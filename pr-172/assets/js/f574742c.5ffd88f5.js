"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3521],{98816:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"components/cli/policy/subject-mappings/create","title":"otdfctl policy subject-mappings create","description":"Create a Subject Mapping to entitle an entity (via an existing or new Subject Condition Set) to Action(s)","source":"@site/docs/components/cli/policy/subject-mappings/create.mdx","sourceDirName":"components/cli/policy/subject-mappings","slug":"/components/cli/policy/subject-mappings/create","permalink":"/pr-172/components/cli/policy/subject-mappings/create","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"otdfctl policy subject-mappings create"},"sidebar":"tutorialSidebar","previous":{"title":"otdfctl policy subject-mappings","permalink":"/pr-172/components/cli/policy/subject-mappings/"},"next":{"title":"otdfctl policy subject-mappings delete","permalink":"/pr-172/components/cli/policy/subject-mappings/delete"}}');var i=n(74848),s=n(28453),o=(n(96540),n(68818));const a={title:"otdfctl policy subject-mappings create"},c=void 0,l={},d=[{value:"Examples",id:"examples",level:2}];function p(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(o.A,{...JSON.parse('{"title":"Create a new subject mapping","command":{"name":"create","aliases":["new","add","c"],"flags":[{"name":"attribute-value-id","description":"The ID of the attribute value to map to a subject condition set","shorthand":"a","required":true},{"name":"action","description":"Each \'id\' or \'name\' of an Action to be entitled (i.e. \'create\', \'read\', \'update\', \'delete\')"},{"name":"subject-condition-set-id","description":"Known preexisting Subject Condition Set Id"},{"name":"subject-condition-set-new","description":"JSON array of Subject Sets to create a new Subject Condition Set associated with the created Subject Mapping"},{"name":"label","description":"Optional metadata \'labels\' in the format: key=value","shorthand":"l"},{"name":"action-standard","description":"Deprecated. Migrated to \'--action\'.","shorthand":"s"},{"name":"action-custom","description":"Deprecated. Migrated to \'--action\'.","shorthand":"c"}]},"fullCommand":"otdfctl policy subject-mappings create"}'),children:[(0,i.jsx)(t.p,{children:"Create a Subject Mapping to entitle an entity (via an existing or new Subject Condition Set) to Action(s)\non an Attribute Value."}),(0,i.jsx)(t.p,{children:"Subject Mappings may entitle Actions with standard names ('create', 'read', 'update', 'delete'), custom names,\nor by their stored 'id' within policy. If the referenced Action name does not already exist within policy,\nit will be created along with the new Subject Mapping."}),(0,i.jsxs)(t.p,{children:["For more information about actions, see the ",(0,i.jsx)(t.code,{children:"actions"})," subcommand."]}),(0,i.jsxs)(t.p,{children:["For more information about subject mappings, see the ",(0,i.jsx)(t.code,{children:"subject-mappings"})," subcommand."]}),(0,i.jsxs)(t.p,{children:["For more information about subject condition sets, see the ",(0,i.jsx)(t.code,{children:"subject-condition-sets"})," subcommand."]}),(0,i.jsx)(t.h2,{id:"examples",children:"Examples"}),(0,i.jsx)(t.p,{children:"Create a subject mapping for a 'read' action linking to an existing subject condition set:"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"otdfctl policy subject-mapping create --attribute-value-id 891cfe85-b381-4f85-9699-5f7dbfe2a9ab --action read --subject-condition-set-id 8dc98f65-5f0a-4444-bfd1-6a818dc7b447\n"})}),(0,i.jsx)(t.p,{children:"Or you can create a mapping for 'read' or 'create' linking to a new subject condition set:"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:'otdfctl policy subject-mapping create --attribute-value-id 891cfe85-b381-4f85-9699-5f7dbfe2a9ab --action create --action update --subject-condition-set-new \'[                                           \n  {\n    "condition_groups": [\n      {\n        "conditions": [\n          {\n            "operator": 1,\n            "subject_external_values": ["myvalue", "myothervalue"],\n            "subject_external_selector_value": ".example.field.one"\n          },\n          {\n            "operator": 2,\n            "subject_external_values": ["notpresentvalue"],\n            "subject_external_selector_value": ".example.field.two"\n          }\n        ],\n        "boolean_operator": 2\n      }\n    ]\n  }\n]\'\n'})})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},68818:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(96540);const i=(0,r.createContext)(null),s={didCatch:!1,error:null};class o extends r.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=s}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:i,reason:"imperative-api"}),this.setState(s)}}componentDidCatch(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:r}=this.props;var i,o;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some(((e,n)=>!Object.is(e,t[n])))}(e.resetKeys,r)&&(null===(i=(o=this.props).onReset)||void 0===i||i.call(o,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(s))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:s}=this.props,{didCatch:o,error:a}=this.state;let c=e;if(o){const e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)c=t(e);else if(n)c=(0,r.createElement)(n,e);else{if(void 0===s)throw a;c=s}}return(0,r.createElement)(i.Provider,{value:{didCatch:o,error:a,resetErrorBoundary:this.resetErrorBoundary}},c)}}var a=n(74848);function c({name:e,shorthand:t,description:n,default:r,required:i}){const s=(0,a.jsxs)("code",{children:["--",e," <",e,">"]}),o=t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("code",{children:["-",t]}),","]});return(0,a.jsxs)("dl",{children:[(0,a.jsxs)("dt",{children:[o," ",s]}),(0,a.jsxs)("dd",{children:[n,"\xa0(",(0,a.jsx)("em",{children:"required"}),": ",(0,a.jsx)("code",{children:i?"true":"false"}),")",r&&(0,a.jsxs)(a.Fragment,{children:["\xa0(",(0,a.jsx)("em",{children:"default"}),": ",(0,a.jsx)("code",{children:r}),")"]})]})]})}function l(e){return e?(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Options"}),e?.map((e=>(0,a.jsx)(c,{...e})))]}):null}function d(e){return e?(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Aliases"}),e?.map(((t,n)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("code",{children:t}),n<e.length-1&&", "]})))]}):null}function p({children:e,fullCommand:t,title:n,command:r}){console.log(r);const{flags:i,args:s,arbitrary_args:o,aliases:c,hidden:p}=r;let u=t;return i&&(u+=" [flags]"),s&&(u+=" "+s.map((e=>`<${e}>`)).join(" ")),o&&(u+=" "+o.map((e=>`[${e}]`)).join(" ")),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[r.name," - ",n]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Synopsis"}),(0,a.jsx)("pre",{children:(0,a.jsx)("code",{children:u})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Description"}),e]}),l(i),d(c)]})}function u({children:e,...t}){return(0,a.jsx)(o,{fallback:({error:e,tryAgain:t})=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["This component crashed because of error: ",e.message,"."]}),(0,a.jsx)("button",{onClick:t,children:"Try Again!"})]}),children:(0,a.jsx)(p,{...t,children:e})})}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var r=n(96540);const i={},s=r.createContext(i);function o(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);