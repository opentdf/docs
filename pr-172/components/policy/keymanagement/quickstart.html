<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-components/policy/keymanagement/quickstart" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Quickstart for using the new key management architecture | OpenTDF</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.opentdf.io/pr-172/img/opentdf-social.png"><meta data-rh="true" name="twitter:image" content="https://docs.opentdf.io/pr-172/img/opentdf-social.png"><meta data-rh="true" property="og:url" content="https://docs.opentdf.io/pr-172/components/policy/keymanagement/quickstart"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Quickstart for using the new key management architecture | OpenTDF"><meta data-rh="true" name="description" content="This quickstart is meant to aid users trying to test the new key management"><meta data-rh="true" property="og:description" content="This quickstart is meant to aid users trying to test the new key management"><link data-rh="true" rel="icon" href="/pr-172/img/OpenTDF-Logo.png"><link data-rh="true" rel="canonical" href="https://docs.opentdf.io/pr-172/components/policy/keymanagement/quickstart"><link data-rh="true" rel="alternate" href="https://docs.opentdf.io/pr-172/components/policy/keymanagement/quickstart" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.opentdf.io/pr-172/components/policy/keymanagement/quickstart" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Components and Services","item":"https://docs.opentdf.io/pr-172/category/components-and-services"},{"@type":"ListItem","position":2,"name":"Policy","item":"https://docs.opentdf.io/pr-172/components/policy"},{"@type":"ListItem","position":3,"name":"Key Management","item":"https://docs.opentdf.io/pr-172/components/policy/keymanagement"},{"@type":"ListItem","position":4,"name":"Quickstart for using the new key management architecture","item":"https://docs.opentdf.io/pr-172/components/policy/keymanagement/quickstart"}]}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","name":"OpenTDF","url":"https://opentdf.io","logo":"https://docs.opentdf.io/img/opentdf-social.png"}</script><link rel="stylesheet" href="/pr-172/assets/css/styles.d388913b.css">
<script src="/pr-172/assets/js/runtime~main.acb04d16.js" defer="defer"></script>
<script src="/pr-172/assets/js/main.065347f5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pr-172/"><div class="navbar__logo"><img src="/pr-172/img/OpenTDF-Logo.png" alt="OpenTDF - Protect the Data, Build the Future" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32" width="32"><img src="/pr-172/img/OpenTDF-Logo.png" alt="OpenTDF - Protect the Data, Build the Future" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32" width="32"></div><b class="navbar__title text--truncate">OpenTDF</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pr-172/introduction">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/opentdf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/pr-172/"><img src="/pr-172/img/OpenTDF-Logo.png" alt="OpenTDF - Protect the Data, Build the Future" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32" width="32"><img src="/pr-172/img/OpenTDF-Logo.png" alt="OpenTDF - Protect the Data, Build the Future" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32" width="32"><b>OpenTDF</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-172/introduction">Welcome to OpenTDF Docs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pr-172/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-172/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/pr-172/category/components-and-services">Components and Services</a><button aria-label="Collapse sidebar category &#x27;Components and Services&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/authorization">Authorization Service</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/pr-172/components/core">Core Components</a><button aria-label="Expand sidebar category &#x27;Core Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/pr-172/components/policy">Policy</a><button aria-label="Collapse sidebar category &#x27;Policy&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/pr-172/components/policy/keymanagement">Key Management</a><button aria-label="Collapse sidebar category &#x27;Key Management&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/keymanagement/base_key">Base Key</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/keymanagement/key_managers">Key Managers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/keymanagement/key_mappings">Key mappings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pr-172/components/policy/keymanagement/quickstart">Quickstart for using the new key management architecture</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/actions">Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/attributes">Attributes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/key_access_grants">Key Access Grants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/key_access_registry">Key Access Registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/obligations">Obligations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/registered_resources">Registered Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/resource_mappings">Resource Mappings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/policy/subject_mappings">Subject Mappings</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/pr-172/components/cli">CLI - otdfctl</a><button aria-label="Expand sidebar category &#x27;CLI - otdfctl&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/entity_resolution">Entity Resolution Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-172/components/key_access">Key Access Service</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pr-172/category/sdk">SDK</a><button aria-label="Expand sidebar category &#x27;SDK&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pr-172/OpenAPI-clients">OpenAPI Clients</a><button aria-label="Expand sidebar category &#x27;OpenAPI Clients&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pr-172/spec">Specification</a><button aria-label="Expand sidebar category &#x27;Specification&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-172/appendix/matrix">Appendix</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-172/release-notes">Release Notes</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_xLCN"><div class="docItemContainer_jfFK"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pr-172/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pr-172/category/components-and-services"><span>Components and Services</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pr-172/components/policy"><span>Policy</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pr-172/components/policy/keymanagement"><span>Key Management</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Quickstart for using the new key management architecture</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="row"><div class="col col--12 markdown"><header><h1>Quickstart for using the new key management architecture</h1></header>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>This quickstart is meant to aid users trying to test the new key management
features, by standing up a new platform. This quickstart is not meant as a
migration guide. Currently, while key management is experimental, we recommend to use key management with <strong>ONLY</strong> new deployments.</p></div></div>
<p>Below is a guide to setting up platform to use the new key management features.</p>
<p>Checklist:</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>You can spin KAS up without activating the key management features.
This gives you time to create or migrate keys to the platform
before KAS expects keys to come from the platform, which would
be helpful for migrations.</p></div></div>
<ol>
<li>Key management is activated for KAS.</li>
<li>A key has been created.</li>
<li>Assign key mappings. (optional, but recommended)</li>
<li>Base Key is set (optional, but recommended)</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="key-management-is-activated-for-kas">Key management is activated for KAS<a href="#key-management-is-activated-for-kas" class="hash-link" aria-label="Direct link to Key management is activated for KAS" title="Direct link to Key management is activated for KAS">​</a></h2>
<ul>
<li>To activate key management for KAS you will need to modify the <strong>key_management</strong> field within the opentdf.yaml file to be true. <a href="https://github.com/opentdf/platform/blob/6203fbaebcdd57b5b3437679465149f8ff395484/opentdf-dev.yaml#L25" target="_blank" rel="noopener noreferrer">opentdf-dev.yaml</a>.</li>
<li>You will also need to set a root key to be used with the basic manager. The root key should be 32 bytes long.<!-- -->
<ul>
<li>In addition, the root key should be hex encoded.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="creating-a-key">Creating a key<a href="#creating-a-key" class="hash-link" aria-label="Direct link to Creating a key" title="Direct link to Creating a key">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You can also perform all key commands with the <a href="https://github.com/opentdf/otdfctl" target="_blank" rel="noopener noreferrer">OpenTDF CLI</a></p></div></div>
<ol>
<li>You should already have created and registered a <strong>Key Access Server</strong> with the platform via the <a href="https://github.com/opentdf/platform/blob/6203fbaebcdd57b5b3437679465149f8ff395484/service/policy/kasregistry/key_access_server_registry.proto#L59" target="_blank" rel="noopener noreferrer">Create Key Access Server Endpoint</a>.</li>
<li>Once you have a <strong>Key Access Server</strong> registered you should then create a key for that registered KAS.</li>
</ol>
<p>The definition for creating a key can be found in the key_access_registry <a href="https://github.com/opentdf/platform/blob/6203fbaebcdd57b5b3437679465149f8ff395484/service/policy/kasregistry/key_access_server_registry.proto#L379" target="_blank" rel="noopener noreferrer">proto</a>.</p>
<p>Let&#x27;s look at a valid request and dissect it:</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>These keys can be found within the <a href="https://github.com/opentdf/platform/blob/6203fbaebcdd57b5b3437679465149f8ff395484/service/internal/fixtures/policy_fixtures.yaml#L528" target="_blank" rel="noopener noreferrer">policy_fixtures.yaml</a> file located
in opentdf.</p></div></div>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">{</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;kas_id&quot;: &quot;db740f79-cf85-41b2-a27f-663b0e2b169b&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;key_id&quot;: &quot;kas-key-1&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;key_algorithm&quot;: 1,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;key_mode&quot;: 1,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;public_key_ctx&quot;: {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    &quot;pem&quot;: &quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvVENDQWVXZ0F3SUJBZ0lVRjA5QWpIallJOENSekVGSmpjVEREY2lkZEgwd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0RqRU1NQW9HQTFVRUF3d0RhMkZ6TUI0WERUSTBNRFV3TmpFeU1UQXhNbG9YRFRJMU1EVXdOakV5TVRBeApNbG93RGpFTU1Bb0dBMVVFQXd3RGEyRnpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDCkFRRUFsVEI5eks3dzF1MG1mOWI5bmg4U3p0K0t5ZFdvbjUyUDVNY2k4Z1YremFQWjlmM0picllHVWZWWG16RmEKbVErTjBmTjZRaDhVOWlzbzFPZ3VHWDB1eTRwV1k3em1XTXFtRjVpSk9INENBdTVnV2Vuc3I5R2FXM1lmeEtWRgpWUnpKcUx0U3pBT3lvQ0lhNVErSTJUdmdNeEZjSFYwSGN4OXU5ekdYdDdKNUdlV1pTM3I2OUg4MGRGUjdGc0lRCk1hTDZRUHhmUWNWOVJidW9weUFwOE43TktiU3p4OEZUZEJYUWE4QnVxTXNvNlZyK0crZC9oeVp6YlpVc1pEUzQKZ3RtNnJCQlUraE8zMEN6WnBaZHBETVNPdjljNGNZUXlpdElwRjBrbVdQcE02YitKUzRyN2hGUU5kY1BWVXBWeAovVGowRUFNaWsrcHpZQUxyalRLZjlHcmJkd0lEQVFBQm8xTXdVVEFkQmdOVkhRNEVGZ1FVa2RTM0JuWHNnZUtSCnVNL0hCNW9sM3lacVRvMHdId1lEVlIwakJCZ3dGb0FVa2RTM0JuWHNnZUtSdU0vSEI1b2wzeVpxVG8wd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFTZXoxQVZhNVhHVXBrNUg4THpySQp4U0VzUnRHUitSV2NJdGxMZVVLc3NPTTNzY01mUEZ6SnQyTldwd0NwSTRiY2FGQVgzeFlLR1lxVnZzVmpxbTFVCnRKYmh6dzFhUVBUT2ZvNDZlOXNGK2lxZGJpbEplRUlQZllDb0w2VXR0Rm96TC9LZ2k1eWFlSXBScTFiaHFwVjcKTVRmSm1CbHVIckZhdWNFaEFMTDJoK0tsQ1R6amJsQnBZN1hpVFZHc3JZc0V2MmF3NEh2b1pZVkZVV3IxQ1JXYgppcDB4dFZ1SXE5RFhha0ZJYWVQWlZnMHRCczVBejBzUGlpNUdUVjUzVXdmcjY4VjhBYXFRSE9yVGRQL2ZadkN3CmRXTWdKSnltc21VUis1cTJCTnJvZHlTWDd4RzZxenE0Mm5BV1ZwSlNvb0g5ZWdSYXZuZ0Q5UXRreWU5KzBuRW0KVGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;private_key_ctx&quot;: {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    &quot;key_id&quot;: &quot;config&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    &quot;wrapped_key&quot;: &quot;lcbq682Gsii+jEkQ62sWIXkWWVJjgWPuvhmBt9KiYFJ/o3XClyRd4c0KDFtuohdBw2jvVGweFfspi9eWGMIzEl6bcERc52q5HviH5kcT9RcnJhUv3iN635RwHzNvjGEVKKUNBv4pfEN30w7opHPigz0KQ1VBMJNO3YD9FVA7UoHx0eJcF7ZQJJGXxwpQV0MtwlqmRpq4Q2U9vpYrj6787QHGf9hegIXNA+r0r3TCLpwc5Y3A9hHkyjw7QgXE8ueJILuMm87CerJpyZOCsrH3vAjiYAVv7/dEJqjX1AgaB84T7hxDFej9JKhIy9eKZNrNwMYmAsHpbA3jg5GEHB7E3fXEqhi1SNYaGVidtoJuS/3kVnILKNY6ifto6YLLBAuiPARc56UnUSKHYCWmNJ7BC8cHa7aHt9eQmeUTbqVf0h7h463qYCazD8XOALQ0nCyOCr9uLdWZ5A8Klqf3+j+728kZaBE7kJgR5PXtt1LLyXq8fHHOEsNYs3OtR8cwjEudjoUTI17ubBNb8XeM5zaZ/WfufCqjvPecDKzprUo7ejpkf6J8BtE+YHVQJ7M1bVoVeCKEMe/+zycfispsnflCVm6BMtYLvkU/23Edb9cM7PQGyELFNx32AtpQzLEE+5eZYaaQNYkxDiatsvd2D24ERMXfXjuah810NIZTe18q+F2+Y0KnMOKdzjWp2Qwo4uHorbvwQFL39vkTrfe23zXUcd67ZBNjIQCFsJk9nlFONF8ksnWW49hwqJ95urmhnsHdRfPkmW6HvtRuSrSw/ef8ft1Ff2VF1CJQp+Jw6bzJZdPK7lNlf7Qw7kkDKjHlgM5gjveeRWf19Cqji7G3QaI/NkqCtJeZYKffFSTmm+Hcz4mzLBJssxMth/RDZC5SiUI82agHtBByT/C+p64A7r6FxSovdMN/fMNYILw4dPWuqt6p6egMIr0SUapiPriN0bF3Z7gyGT1Avr0ugiOjAB7/zrl2Giaej1TWMXKO3wbx/EsQWi03VrlVjpHv9vcheZ7FO9bDBTRLJdr4BE8Ek4bFBk+qFFNAvWp/Fd1b6qb++DuNHj85WdwXMOiog5IRK7ceIMOLPcmxNq7axyZy+Nm2Cehr3yBONC1PFixScLHbYPBeMODhbGYz94EZbLG9bi/PyFBb4DXHiKzlk4KSgpXgQKPpRElziCbaPwZZ0eYcPHhjKU4t7ki7NTv2QXUMg+uvuVVj2mpjR12ynbbKlI42hPG1amEWBe3Rc6fxqnnBuRryLZ7DanpknvWKyQq7KZGHrFziZ0A7CURz1gOdxwlCAq/Fp1gj10jM0ZI+yhwTFrxBP2WtquKWADHF0pFnSVuJJRysPTvisRaS57wviVYBtBrtFbfaLpFs+pCebbO5+GQgopZVZH39sIgcGHcpxEMst0BwrnPfH3DQlbjVgkZQf6BbeJC5aA/kDU5RdSbQ2563BpdLEDDCwoiU95nKpMm8O3U210GQ0x/xWEaC1t2d9S6FUElTUJRXYVMePvgrZ2vFj9ya6o6nKUkxEp2iIdKgurDx0EMHvv5OtLFXNuWYWHSJ7s3DOrV66qQtXhqzUIlF4GXDUaJfgsmQ941M7yAj/tbn0GPad0ClEvVwnnpjg4Jhgf5vZBh/SpnMkhbkTHB+4j8kOWELwVsfCStSkFFtp1cUmER9EhjK8cJbw/aJU59fFfd2WGCzULHfA21DKrWzIl388kk/xqwT7Q9iOvcSR7ZstMtGTQXnxCX/Wp8Toj64H3dlGjzLhFx6uBNwXT114Rxl8efKuoUg7tdw1qWm9JeP/vMQzU9KwfyHLK6gCAIfZJgyY+rur7F+eSOEIDyidFrK3SVLQ7OYGFeWhTMKMGw7ZWenL/qX7APQ+vGh2jP52U7elOKx/TlNFyPrG/aYP3t04SueYRGvEp+zfdUM1nf/7v/DxssURKosAGGkRpo0KCsTSB8S8qu9M+07b0RDEWj/PtukegoEDu+6xk3tZdjrZVM21eDCh8q0OGm/Jx0HMeePqHco3xGS1JX1otAZwPHZiI2iccZK+WmJLLZIrXK4lHo/wYiB+NyIpd2VwgSuvnkxaNQyvlmukRi2BO35dGC5QZcUywiBfThK7sD/B22G46eQSGy7jy9IJbZ1xM+5Gquq97O8+V9R+xG2umY7H+Xot6PZF5OOHDFb6pETI8l42Ct5vlII2dfYqjedzXp/oWkuqnoaPz3gQN0KbFh9lk6oUuI1iLhpC1lHGo7zo1Wq441eQogKwaXSCplP414Qn8tQ4zW/E7cghKnzV185+iGupqNshY0eKUmK0vFLwvG+vw==&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span></code></pre></div></div>
<ul>
<li>The <strong>kas_id</strong> should match the uuid generated by the database when the key access server was registered via the <strong>CreateKeyAccessServer</strong> request performed in step 1. (Required)</li>
<li>The <strong>key_id</strong> can be any name you wish to associate with the key to be created, which will show up in the manifest of the TDF. (Required)</li>
<li>The <strong>key_algorithm</strong> is the specific cipher bit/shape of the key and can be one of the following: (Required)</li>
</ul>
<table><thead><tr><th>Key Algorithm</th><th><code>alg</code> Value</th></tr></thead><tbody><tr><td><code>rsa:2048</code></td><td>1</td></tr><tr><td><code>rsa:4096</code></td><td>2</td></tr><tr><td><code>ec:secp256r1</code></td><td>3</td></tr><tr><td><code>ec:secp384r1</code></td><td>4</td></tr><tr><td><code>ec:secp521r1</code></td><td>5</td></tr></tbody></table>
<ul>
<li>The <strong>key_mode</strong> basically tells the KAS during a rewrap where to expect the key so that it can perform a decryption. Available modes are: (Required)</li>
</ul>
<table><thead><tr><th>Key Mode</th><th><code>mode</code> Value</th><th>Description</th></tr></thead><tbody><tr><td><code>KEY_MODE_CONFIG_ROOT_KEY</code></td><td>1</td><td>The symmetric wrapping (root) key is stored with the platform configuration and the wrapped KAS key is stored in the platform database.</td></tr><tr><td><code>KEY_MODE_PROVIDER_ROOT_KEY</code></td><td>2</td><td>The symmetric wrapping (root) key is stored external to the platform using a KMS or HSM interface. The wrapped KAS key is stored in the platform&#x27;s database.</td></tr><tr><td><code>KEY_MODE_REMOTE</code></td><td>3</td><td>The private portion of the asymmetric key is stored external to the platform using a KMS or HSM interface. This is also referred to as <code>STRICT_MODE</code>. No symmetric (root) key is required here since the platform is not storing any sensitive key material.</td></tr><tr><td><code>KEY_MODE_PUBLIC_KEY_ONLY</code></td><td>4</td><td>No private key information is stored. This is used when importing another org&#x27;s policy information.</td></tr></tbody></table>
<ul>
<li>The <strong>public_key_ctx</strong> holds the public key for the asymmetric key pair. (Required)</li>
<li>The <strong>private_key_ctx</strong> holds the encrypted private key and a <strong>key_id</strong> specific to the symmetric key that is wrapping the private key. For keys of mode <strong>KEY_MODE_REMOTE</strong>, the <strong>key_id</strong> within private_key_ctx is used for identifying the remote private key. Our <a href="/pr-172/components/policy/keymanagement/key_managers">key managers</a> use the <strong>key_id</strong> field present within the private_key_ctx when making requests to your external KMS/HSM instead of the <strong>key_id</strong> field at the root of the object. We do this to allow for larger key identifiers, which might be necessary for external providers. (Ex: arns with AWS)</li>
</ul>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Wrapped_Key is only required for KEY_MODE_CONFIG_ROOT_KEY and KEY_MODE_PROVIDER_ROOT_KEY.
Key_Id is required for all key modes except KEY_MODE_PUBLIC_KEY_ONLY</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You can also specify metadata for the key via a common metadata structure, but that is not covered here.</p></div></div>
<p>The above JSON request covers registering a key where the asymmetric key pair will be stored within the platform&#x27;s database, and the expected symmetric key that decrypts the private key will be stored within KAS. What if you want to only store a reference to a key and have that reference point to a key elsewhere? Say for a KMS, for example. That&#x27;s where <strong>KEY_MODE_REMOTE</strong> is handy.</p>
<div class="language-json5 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json5 codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">{</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;kas_id&quot;: &quot;db740f79-cf85-41b2-a27f-663b0e2b169b&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;key_id&quot;: &quot;aws-key-1&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;key_algorithm&quot;: 1,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;key_mode&quot;: 3,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;public_key_ctx&quot;: {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    &quot;pem&quot;: &quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvVENDQWVXZ0F3SUJBZ0lVRjA5QWpIallJOENSekVGSmpjVEREY2lkZEgwd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0RqRU1NQW9HQTFVRUF3d0RhMkZ6TUI0WERUSTBNRFV3TmpFeU1UQXhNbG9YRFRJMU1EVXdOakV5TVRBeApNbG93RGpFTU1Bb0dBMVVFQXd3RGEyRnpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDCkFRRUFsVEI5eks3dzF1MG1mOWI5bmg4U3p0K0t5ZFdvbjUyUDVNY2k4Z1YremFQWjlmM0picllHVWZWWG16RmEKbVErTjBmTjZRaDhVOWlzbzFPZ3VHWDB1eTRwV1k3em1XTXFtRjVpSk9INENBdTVnV2Vuc3I5R2FXM1lmeEtWRgpWUnpKcUx0U3pBT3lvQ0lhNVErSTJUdmdNeEZjSFYwSGN4OXU5ekdYdDdKNUdlV1pTM3I2OUg4MGRGUjdGc0lRCk1hTDZRUHhmUWNWOVJidW9weUFwOE43TktiU3p4OEZUZEJYUWE4QnVxTXNvNlZyK0crZC9oeVp6YlpVc1pEUzQKZ3RtNnJCQlUraE8zMEN6WnBaZHBETVNPdjljNGNZUXlpdElwRjBrbVdQcE02YitKUzRyN2hGUU5kY1BWVXBWeAovVGowRUFNaWsrcHpZQUxyalRLZjlHcmJkd0lEQVFBQm8xTXdVVEFkQmdOVkhRNEVGZ1FVa2RTM0JuWHNnZUtSCnVNL0hCNW9sM3lacVRvMHdId1lEVlIwakJCZ3dGb0FVa2RTM0JuWHNnZUtSdU0vSEI1b2wzeVpxVG8wd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFTZXoxQVZhNVhHVXBrNUg4THpySQp4U0VzUnRHUitSV2NJdGxMZVVLc3NPTTNzY01mUEZ6SnQyTldwd0NwSTRiY2FGQVgzeFlLR1lxVnZzVmpxbTFVCnRKYmh6dzFhUVBUT2ZvNDZlOXNGK2lxZGJpbEplRUlQZllDb0w2VXR0Rm96TC9LZ2k1eWFlSXBScTFiaHFwVjcKTVRmSm1CbHVIckZhdWNFaEFMTDJoK0tsQ1R6amJsQnBZN1hpVFZHc3JZc0V2MmF3NEh2b1pZVkZVV3IxQ1JXYgppcDB4dFZ1SXE5RFhha0ZJYWVQWlZnMHRCczVBejBzUGlpNUdUVjUzVXdmcjY4VjhBYXFRSE9yVGRQL2ZadkN3CmRXTWdKSnltc21VUis1cTJCTnJvZHlTWDd4RzZxenE0Mm5BV1ZwSlNvb0g5ZWdSYXZuZ0Q5UXRreWU5KzBuRW0KVGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;private_key_ctx&quot;: {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    &quot;key_id&quot;: &quot;arn:aws:kms:REGION:ACCOUNT-ID:key/KEY-ID&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  &quot;provider_config_id&quot;: &quot;948e8167-6f32-4eee-89b7-f0cd42ce70ea&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>The above is a valid request for registering a key with the platform where the private key is stored externally from the platform. The difference between the two requests is:</p>
<ul>
<li>The <strong>wrapped_key</strong> should not be within the <strong>private_key_ctx</strong>, in addition a provider configuration has been registered with the system. See details on <a href="/pr-172/components/policy/keymanagement/key_managers#provider-configurations">provider configuration</a>. In small detail, adding a provider configuration reference to a key tells KAS what <a href="/pr-172/components/policy/keymanagement/key_managers">key manager</a> should be used to complete a rewrap operation.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="assigning-key-mappings-optional-but-recommended">Assigning Key Mappings (Optional, but recommended)<a href="#assigning-key-mappings-optional-but-recommended" class="hash-link" aria-label="Direct link to Assigning Key Mappings (Optional, but recommended)" title="Direct link to Assigning Key Mappings (Optional, but recommended)">​</a></h2>
<p>Follow the <a href="/pr-172/components/policy/keymanagement/key_mappings">key mapping</a> guide for creating mappings.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setting-base-key-optional-but-recommended">Setting base key (Optional, but recommended)<a href="#setting-base-key-optional-but-recommended" class="hash-link" aria-label="Direct link to Setting base key (Optional, but recommended)" title="Direct link to Setting base key (Optional, but recommended)">​</a></h2>
<p>Follow the <a href="/pr-172/components/policy/keymanagement/base_key">base key setup</a> guide for setting a base key.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="important-additional-comments">Important additional comments<a href="#important-additional-comments" class="hash-link" aria-label="Direct link to Important additional comments" title="Direct link to Important additional comments">​</a></h2>
<ol>
<li>As of version 0.7.0 of the OpenTDF platform, there is no way to delete a key. If you would like to deactivate a key, use the <strong>RotateKey</strong> rpc.</li>
<li>When creating a key of mode <strong>KEY_MODE_CONFIG_ROOT_KEY</strong> the <strong>wrapped_key</strong> is expected to be base64 encoded.</li>
</ol></div></div></div><div class="row"><div class="col col--12"></div></div></article><div class="row"><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-172/components/policy/keymanagement/key_mappings"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Key mappings</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pr-172/components/policy/actions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Actions</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#key-management-is-activated-for-kas" class="table-of-contents__link toc-highlight">Key management is activated for KAS</a></li><li><a href="#creating-a-key" class="table-of-contents__link toc-highlight">Creating a key</a></li><li><a href="#assigning-key-mappings-optional-but-recommended" class="table-of-contents__link toc-highlight">Assigning Key Mappings (Optional, but recommended)</a></li><li><a href="#setting-base-key-optional-but-recommended" class="table-of-contents__link toc-highlight">Setting base key (Optional, but recommended)</a></li><li><a href="#important-additional-comments" class="table-of-contents__link toc-highlight">Important additional comments</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Sponsors</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://virtru.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Virtru<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pr-172/getting-started/configuration">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-172/introduction">Documentation</a></li><li class="footer__item"><a href="https://github.com/orgs/opentdf/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/orgs/opentdf/discussions/categories/show-and-tell" target="_blank" rel="noopener noreferrer" class="footer__link-item">Showcase<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/opentdf/discussions/1806" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pr-172/privacy-policy">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-172/cookie-policy">Cookie Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-172/terms-of-service">Terms of Service</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opentdf.io" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/pr-172/img/opentdf-logo-horizontal.png" alt="OpenTDF Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pr-172/img/opentdf-logo-horizontal.png" alt="OpenTDF Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">
          <span>Copyright © 2026 OpenTDF</span>
          <iconify-icon data-icon="mdi:shield-check" style="color: #00FF00;"></iconify-icon>
        </div></div></div></footer></div>
</body>
</html>