"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[388],{36763:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>g,frontMatter:()=>u,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"sdks/authorization","title":"Making Authorization Decisions","description":"OpenTDF\'s authorization system provides two primary methods for access control: Entitlements and Authorization Decisions. Understanding when and how to use each is crucial for implementing effective data security.","source":"@site/docs/sdks/authorization.mdx","sourceDirName":"sdks","slug":"/sdks/authorization","permalink":"/preview-ad81f576/sdks/authorization","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Creating TDFs","permalink":"/preview-ad81f576/sdks/tdf"},"next":{"title":"OpenAPI Clients","permalink":"/preview-ad81f576/OpenAPI-clients/"}}');var s=t(74848),o=t(28453),r=t(45645),a=t(7227);function c(e){const n={code:"code",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'package io.opentdf.platform;\n\nimport com.connectrpc.ResponseMessageKt;\nimport io.opentdf.platform.authorization.DecisionRequest;\nimport io.opentdf.platform.authorization.DecisionResponse;\nimport io.opentdf.platform.authorization.Entity;\nimport io.opentdf.platform.authorization.EntityChain;\nimport io.opentdf.platform.authorization.GetDecisionsRequest;\nimport io.opentdf.platform.authorization.GetDecisionsResponse;\nimport io.opentdf.platform.authorization.ResourceAttribute;\nimport io.opentdf.platform.policy.Action;\nimport io.opentdf.platform.sdk.*;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport java.util.Collections;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class GetDecisions {\n\n  private static final Logger logger = LogManager.getLogger(GetDecisions.class);\n\n  public static void main(String[] args) {\n\n    String clientId = "opentdf";\n    String clientSecret = "secret";\n    String platformEndpoint = "localhost:8080";\n    String namespaceName = "opentdf.io";\n\n    SDKBuilder builder = new SDKBuilder();\n\n    try (SDK sdk =\n        builder\n            .platformEndpoint(platformEndpoint)\n            .clientSecret(clientId, clientSecret)\n            .useInsecurePlaintextConnection(true)\n            .build()) {\n\n      GetDecisionsRequest request =\n          GetDecisionsRequest.newBuilder()\n              .addDecisionRequests(\n                  DecisionRequest.newBuilder()\n                      .addEntityChains(\n                          EntityChain.newBuilder()\n                              .setId("ec1")\n                              .addEntities(\n                                  Entity.newBuilder().setId("entity-1").setClientId("opentdf")))\n                      .addActions(Action.newBuilder().setName("read"))\n                      .addResourceAttributes(\n                          ResourceAttribute.newBuilder()\n                              .setResourceAttributesId("resource-attribute-1")\n                              .addAttributeValueFqns(\n                                  "https://" + namespaceName + "/attr/test/value/test1")))\n              .build();\n\n      GetDecisionsResponse getDecisionsResponse =\n          ResponseMessageKt.getOrThrow(\n              sdk.getServices()\n                  .authorization()\n                  .getDecisionsBlocking(request, Collections.emptyMap())\n                  .execute());\n\n      List<DecisionResponse> decisions = getDecisionsResponse.getDecisionResponsesList();\n\n      logger.info(\n          "Successfully retrieved decisions: [{}]",\n          decisions.stream()\n              .map(DecisionResponse::getDecision)\n              .map(DecisionResponse.Decision::toString)\n              .collect(Collectors.joining(", ")));\n    } catch (Exception e) {\n      logger.error("Failed to get decisions", e);\n    }\n  }\n}\n\n'})})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}const u={sidebar_position:5},d="Making Authorization Decisions",h={},p=[{value:"Overview",id:"overview",level:2},{value:"Entitlements vs Decisions",id:"entitlements-vs-decisions",level:3},{value:"Typical Workflow",id:"typical-workflow",level:3},{value:"Authentication Setup",id:"authentication-setup",level:2},{value:"Getting Entitlements",id:"getting-entitlements",level:2},{value:"Basic Entitlements Query",id:"basic-entitlements-query",level:3},{value:"V2 API (Recommended)",id:"v2-api-recommended",level:4},{value:"V1 API (Legacy)",id:"v1-api-legacy",level:4},{value:"Entitlements with Scope",id:"entitlements-with-scope",level:3},{value:"Making Authorization Decisions",id:"making-authorization-decisions-1",level:2},{value:"Single Resource Decision",id:"single-resource-decision",level:3},{value:"V2 API (Recommended)",id:"v2-api-recommended-1",level:4},{value:"V1 API (Legacy)",id:"v1-api-legacy-1",level:4},{value:"Bulk Authorization Decisions",id:"bulk-authorization-decisions",level:3},{value:"V2 API (Recommended)",id:"v2-api-recommended-2",level:4},{value:"V1 API (Legacy)",id:"v1-api-legacy-2",level:4},{value:"V2 API (Recommended)",id:"v2-api-recommended-3",level:4},{value:"V1 API (Legacy)",id:"v1-api-legacy-3",level:4},{value:"Entity Types and Authentication",id:"entity-types-and-authentication",level:2},{value:"Supported Entity Types",id:"supported-entity-types",level:3},{value:"Token-Based Authentication Example",id:"token-based-authentication-example",level:3},{value:"V2 API (Recommended)",id:"v2-api-recommended-4",level:4},{value:"V1 API (Legacy)",id:"v1-api-legacy-4",level:4},{value:"Best Practices",id:"best-practices",level:2},{value:"Performance Optimization",id:"performance-optimization",level:3},{value:"Security Considerations",id:"security-considerations",level:3},{value:"Integration Patterns",id:"integration-patterns",level:3},{value:"Error Handling",id:"error-handling",level:2}];function m(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"making-authorization-decisions",children:"Making Authorization Decisions"})}),"\n",(0,s.jsxs)(n.p,{children:["OpenTDF's authorization system provides two primary methods for access control: ",(0,s.jsx)(n.strong,{children:"Entitlements"})," and ",(0,s.jsx)(n.strong,{children:"Authorization Decisions"}),". Understanding when and how to use each is crucial for implementing effective data security."]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.h3,{id:"entitlements-vs-decisions",children:"Entitlements vs Decisions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Entitlements"}),': Answer "',(0,s.jsx)(n.em,{children:"What can this entity access?"}),'" - Returns all attribute values an entity is entitled to access']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Decisions"}),': Answer "',(0,s.jsx)(n.em,{children:"Can this entity access this specific resource?"}),'" - Returns a permit/deny decision for specific resource access']}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"typical-workflow",children:"Typical Workflow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"During Resource Discovery"}),": Use ",(0,s.jsx)(n.code,{children:"GetEntitlements"})," to show users what data they can access"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"During Resource Access"}),": Use ",(0,s.jsx)(n.code,{children:"GetDecision"})," to enforce access controls when accessing specific resources"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"For Bulk Operations"}),": Use ",(0,s.jsx)(n.code,{children:"GetDecisionBulk"})," for efficient batch authorization"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"authentication-setup",children:"Authentication Setup"}),"\n",(0,s.jsx)(n.p,{children:"All authorization calls require proper authentication. Here's how to set up the SDK client:"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsx)(a.default,{value:"go",label:"Go",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "fmt"\n    "log"\n    \n    "github.com/opentdf/platform/protocol/go/authorization"\n    authorizationv2 "github.com/opentdf/platform/protocol/go/authorization/v2"\n    "github.com/opentdf/platform/protocol/go/entity"\n    "github.com/opentdf/platform/protocol/go/policy"\n    "github.com/opentdf/platform/sdk"\n    "google.golang.org/protobuf/proto"\n)\n\nfunc main() {\n    platformEndpoint := "http://localhost:8080"\n    \n    // Create authenticated client\n    client, err := sdk.New(\n        platformEndpoint,\n        sdk.WithClientCredentials("opentdf", "secret", nil),\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    // Client is ready for authorization calls\n}\n'})})}),(0,s.jsx)(a.default,{value:"java",label:"Java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import io.opentdf.platform.sdk.*;\nimport io.opentdf.platform.authorization.*;\nimport io.opentdf.platform.entity.*;\nimport io.opentdf.platform.policy.*;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\npublic class AuthorizationSetup {\n    public static void main(String[] args) {\n        String clientId = "opentdf";\n        String clientSecret = "secret";\n        String platformEndpoint = "http://localhost:8080";\n        \n        SDKBuilder builder = new SDKBuilder();\n        SDK sdk = builder.platformEndpoint(platformEndpoint)\n            .clientSecret(clientId, clientSecret)\n            .useInsecurePlaintextConnection(true)\n            .build();\n                \n        // SDK is ready for authorization calls\n    }\n}\n'})})}),(0,s.jsx)(a.default,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"import { PlatformClient } from '@opentdf/sdk/platform';\nimport { AuthProviders } from '@opentdf/sdk';\n\n// Assume you have an existing access token\nconst accessToken = 'your-access-token-here';\n\n// Create auth provider with existing token\nconst authProvider = await AuthProviders.accessTokenAuthProvider({\n  accessToken: accessToken\n});\n\n// Create platform client\nconst platformClient = new PlatformClient({\n  platformUrl: 'http://localhost:8080',\n  authProvider\n});\n\n// Client is ready for authorization calls\n"})})})]}),"\n",(0,s.jsx)(n.h2,{id:"getting-entitlements",children:"Getting Entitlements"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"GetEntitlements"})," to discover what attribute values an entity can access. This is useful for:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Building user interfaces that show available data"}),"\n",(0,s.jsx)(n.li,{children:"Pre-filtering content based on user permissions"}),"\n",(0,s.jsx)(n.li,{children:"Understanding an entity's overall access scope"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"basic-entitlements-query",children:"Basic Entitlements Query"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(a.default,{value:"go",label:"Go",children:[(0,s.jsx)(n.h4,{id:"v2-api-recommended",children:"V2 API (Recommended)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func getEntitlementsV2(client *sdk.SDK) {\n    // Using v2 API with EntityIdentifier\n    entitlementReq := &authorizationv2.GetEntitlementsRequest{\n        EntityIdentifier: &authorizationv2.EntityIdentifier{\n            Identifier: &authorizationv2.EntityIdentifier_EntityChain{\n                EntityChain: &entity.EntityChain{\n                    Entities: []*entity.Entity{\n                        {\n                            EphemeralId: "user-bob",\n                            EntityType: &entity.Entity_EmailAddress{\n                                EmailAddress: "bob@OrgA.com",\n                            },\n                        },\n                    },\n                },\n            },\n        },\n    }\n    \n    entitlements, err := client.AuthorizationV2.GetEntitlements(\n        context.Background(), \n        entitlementReq,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    // Process entitlements\n    for _, entitlement := range entitlements.GetEntitlements() {\n        fmt.Printf("Entity has access to: %v\\n", \n            entitlement.GetActionsPerAttributeValueFqn())\n    }\n}\n'})}),(0,s.jsx)(n.h4,{id:"v1-api-legacy",children:"V1 API (Legacy)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func getEntitlementsV1(client *sdk.SDK) {\n    // Using v1 API - note: v1 doesn\'t have GetEntitlements\n    // Instead, use GetDecisions to understand entity capabilities\n    decisionRequests := []*authorization.DecisionRequest{{\n        Actions: []*policy.Action{{Name: "read"}},\n        EntityChains: []*authorization.EntityChain{{\n            Id: "ec1",\n            Entities: []*authorization.Entity{{\n                EntityType: &authorization.Entity_EmailAddress{\n                    EmailAddress: "bob@OrgA.com",\n                },\n                Category: authorization.Entity_CATEGORY_SUBJECT,\n            }},\n        }},\n        // Query with multiple resource attributes to understand scope\n        ResourceAttributes: []*authorization.ResourceAttribute{{\n            AttributeValueFqns: []string{\n                "https://company.com/attr/classification/value/public",\n                "https://company.com/attr/classification/value/confidential",\n            },\n        }},\n    }}\n    \n    decisionRequest := &authorization.GetDecisionsRequest{\n        DecisionRequests: decisionRequests,\n    }\n    \n    decisionResponse, err := client.Authorization.GetDecisions(\n        context.Background(), \n        decisionRequest,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    // Process decisions to understand entitlements\n    for _, dr := range decisionResponse.GetDecisionResponses() {\n        fmt.Printf("Entity chain %s has decision: %v\\n", \n            dr.GetEntityChainId(), dr.GetDecision())\n    }\n}\n'})})]}),(0,s.jsx)(a.default,{value:"java",label:"Java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public void getEntitlements(SDK sdk) throws ExecutionException, InterruptedException {\n    GetEntitlementsRequest request = GetEntitlementsRequest.newBuilder()\n        .setEntityIdentifier(\n            EntityIdentifier.newBuilder()\n                .setEntityChain(\n                    EntityChain.newBuilder()\n                        .addEntities(\n                            Entity.newBuilder()\n                                .setId("user-bob")\n                                .setEmailAddress("bob@OrgA.com")\n                        )\n                )\n        )\n        .build();\n    \n    GetEntitlementsResponse resp = sdk.getServices()\n        .authorization()\n        .getEntitlements(request)\n        .get();\n    \n    List<EntityEntitlements> entitlements = resp.getEntitlementsList();\n    \n    for (EntityEntitlements entitlement : entitlements) {\n        System.out.println("Entitled to: " + \n            entitlement.getActionsPerAttributeValueFqnMap());\n    }\n}\n'})})}),(0,s.jsx)(a.default,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"import { create } from '@bufbuild/protobuf';\nimport { GetEntitlementsRequestSchema, EntitySchema, Entity_CategorySchema } from '@opentdf/sdk/platform';\n\nasync function getEntitlements(platformClient) {\n  // Assume we have an access token representing the user\n  const accessToken = 'user-access-token-here';\n  \n  const request = create(GetEntitlementsRequestSchema, {\n    entities: [\n      create(EntitySchema, {\n        id: 'user-bob',\n        entityType: {\n          case: 'emailAddress',\n          value: 'bob@OrgA.com'\n        },\n        category: Entity_CategorySchema.SUBJECT\n      })\n    ]\n  });\n  \n  const response = await platformClient.v1.authorization.getEntitlements(request);\n  \n  response.entitlements.forEach(entitlement => {\n    console.log('Entitled to:', entitlement.attributeValueFqns);\n  });\n}\n"})})})]}),"\n",(0,s.jsx)(n.h3,{id:"entitlements-with-scope",children:"Entitlements with Scope"}),"\n",(0,s.jsx)(n.p,{children:"You can limit entitlement queries to specific attribute hierarchies:"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsx)(a.default,{value:"go",label:"Go",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// Note: This example uses the v1 API as WithComprehensiveHierarchy is a v1-only feature\nfunc getEntitlementsWithScope(client *sdk.SDK) {\n    entitlementReq := &authorization.GetEntitlementsRequest{\n        EntityIdentifier: &authorization.EntityIdentifier{\n            EntityChain: &entity.EntityChain{\n                Entities: []*entity.Entity{\n                    {\n                        Id: "user-123",\n                        EntityType: &entity.Entity_EmailAddress{\n                            EmailAddress: "user@company.com",\n                        },\n                    },\n                },\n            },\n        },\n        // When true, returns all entitled values for attributes with hierarchy rules, propagating down from the entitled value\n        WithComprehensiveHierarchy: proto.Bool(true),\n    }\n    \n    entitlements, err := client.Authorization.GetEntitlements(\n        context.Background(), \n        entitlementReq,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    log.Printf("Scoped entitlements: %v", entitlements.GetEntitlements())\n}\n'})})}),(0,s.jsx)(a.default,{value:"java",label:"Java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public void getEntitlementsWithScope(SDK sdk) throws ExecutionException, InterruptedException {\n    GetEntitlementsRequest request = GetEntitlementsRequest.newBuilder()\n        .setEntityIdentifier(\n            EntityIdentifier.newBuilder()\n                .setEntityChain(\n                    EntityChain.newBuilder()\n                        .addEntities(\n                            Entity.newBuilder()\n                                .setId("user-123")\n                                .setEmailAddress("user@company.com")\n                        )\n                )\n        )\n        // When true, returns all entitled values for attributes with hierarchy rules\n        .setWithComprehensiveHierarchy(true)\n        .build();\n    \n    GetEntitlementsResponse resp = sdk.getServices()\n        .authorization()\n        .getEntitlements(request)\n        .get();\n    \n    System.out.println("Scoped entitlements: " + resp.getEntitlementsList());\n}\n'})})}),(0,s.jsx)(a.default,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"async function getEntitlementsWithScope(sdk) {\n  const request = {\n    entityIdentifier: {\n      entityChain: {\n        entities: [{\n          id: 'user-123',\n          emailAddress: 'user@company.com'\n        }]\n      }\n    },\n    // When true, returns all entitled values for attributes with hierarchy rules\n    withComprehensiveHierarchy: true\n  };\n  \n  const response = await sdk.authorization.getEntitlements(request);\n  \n  console.log('Scoped entitlements:', response.entitlements);\n}\n"})})})]}),"\n",(0,s.jsx)(n.h2,{id:"making-authorization-decisions-1",children:"Making Authorization Decisions"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"GetDecision"})," when you need to authorize access to specific resources. This is the enforcement point in your application."]}),"\n",(0,s.jsx)(n.h3,{id:"single-resource-decision",children:"Single Resource Decision"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(a.default,{value:"go",label:"Go",children:[(0,s.jsx)(n.h4,{id:"v2-api-recommended-1",children:"V2 API (Recommended)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func getDecisionV2(client *sdk.SDK) {\n    decisionReq := &authorizationv2.GetDecisionRequest{\n        EntityIdentifier: &authorizationv2.EntityIdentifier{\n            Identifier: &authorizationv2.EntityIdentifier_EntityChain{\n                EntityChain: &entity.EntityChain{\n                    Entities: []*entity.Entity{\n                        {\n                            EphemeralId: "user-123",\n                            EntityType: &entity.Entity_EmailAddress{\n                                EmailAddress: "user@company.com",\n                            },\n                        },\n                    },\n                },\n            },\n        },\n        Action: &policy.Action{\n            Name: "decrypt",\n        },\n        Resource: &authorizationv2.Resource{\n            Resource: &authorizationv2.Resource_AttributeValues_{\n                AttributeValues: &authorizationv2.Resource_AttributeValues{\n                    Fqns: []string{\n                        "https://company.com/attr/classification/value/confidential",\n                        "https://company.com/attr/department/value/finance",\n                    },\n                },\n            },\n        },\n    }\n    \n    decision, err := client.AuthorizationV2.GetDecision(\n        context.Background(), \n        decisionReq,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    resDecision := decision.GetDecision()\n    if resDecision.GetDecision() == authorizationv2.Decision_DECISION_PERMIT {\n        fmt.Println("Access granted")\n        // Note: ResourceDecision doesn\'t have obligations in v2 API\n    } else {\n        fmt.Println("Access denied")\n    }\n}\n'})}),(0,s.jsx)(n.h4,{id:"v1-api-legacy-1",children:"V1 API (Legacy)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func getDecisionV1(client *sdk.SDK) {\n    // V1 API uses bulk decisions\n    decisionRequests := []*authorization.DecisionRequest{{\n        Actions: []*policy.Action{{\n            Name: "decrypt",\n        }},\n        EntityChains: []*authorization.EntityChain{{\n            Id: "ec1",\n            Entities: []*authorization.Entity{{\n                EntityType: &authorization.Entity_EmailAddress{\n                    EmailAddress: "user@company.com",\n                },\n                Category: authorization.Entity_CATEGORY_SUBJECT,\n            }},\n        }},\n        ResourceAttributes: []*authorization.ResourceAttribute{{\n            AttributeValueFqns: []string{\n                "https://company.com/attr/classification/value/confidential",\n                "https://company.com/attr/department/value/finance",\n            },\n        }},\n    }}\n    \n    decisionRequest := &authorization.GetDecisionsRequest{\n        DecisionRequests: decisionRequests,\n    }\n    \n    decisionResponse, err := client.Authorization.GetDecisions(\n        context.Background(), \n        decisionRequest,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    for _, dr := range decisionResponse.GetDecisionResponses() {\n        if dr.GetDecision() == authorization.DecisionResponse_DECISION_PERMIT {\n            fmt.Println("Access granted")\n            // Process any obligations\n            if len(dr.GetObligations()) > 0 {\n                fmt.Printf("Obligations to fulfill: %v\\n", dr.GetObligations())\n            }\n        } else {\n            fmt.Println("Access denied")\n        }\n    }\n}\n'})})]}),(0,s.jsx)(a.default,{value:"java",label:"Java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public void getDecision(SDK sdk) throws ExecutionException, InterruptedException {\n    GetDecisionRequest request = GetDecisionRequest.newBuilder()\n        .setEntityIdentifier(\n            EntityIdentifier.newBuilder()\n                .setEntityChain(\n                    EntityChain.newBuilder()\n                        .addEntities(\n                            Entity.newBuilder()\n                                .setId("user-123")\n                                .setEmailAddress("user@company.com")\n                        )\n                )\n        )\n        .setAction(\n            Action.newBuilder()\n                .setName("decrypt")\n        )\n        .setResource(\n            Resource.newBuilder()\n                .setAttributeValues(\n                    Resource.AttributeValues.newBuilder()\n                        .addFqns("https://company.com/attr/classification/value/confidential")\n                        .addFqns("https://company.com/attr/department/value/finance")\n                )\n        )\n        .build();\n    \n    GetDecisionResponse resp = sdk.getServices()\n        .authorization()\n        .getDecision(request)\n        .get();\n    \n    Decision decision = resp.getDecision();\n    if (decision.getDecision() == Decision.DECISION_PERMIT) {\n        System.out.println("Access granted");\n        // Process any obligations\n        if (decision.getObligationsCount() > 0) {\n            System.out.println("Obligations to fulfill: " + decision.getObligationsList());\n        }\n    } else {\n        System.out.println("Access denied");\n    }\n}\n'})})}),(0,s.jsx)(a.default,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"async function getDecision(sdk) {\n  const request = {\n    entityIdentifier: {\n      entityChain: {\n        entities: [{\n          id: 'user-123',\n          emailAddress: 'user@company.com'\n        }]\n      }\n    },\n    action: {\n      name: 'decrypt'\n    },\n    resource: {\n      attributeValues: {\n        fqns: [\n          'https://company.com/attr/classification/value/confidential',\n          'https://company.com/attr/department/value/finance'\n        ]\n      }\n    }\n  };\n  \n  const response = await sdk.authorization.getDecision(request);\n  \n  if (response.decision.decision === 'DECISION_PERMIT') {\n    console.log('Access granted');\n    if (response.decision.obligations?.length > 0) {\n      console.log('Obligations:', response.decision.obligations);\n    }\n  } else {\n    console.log('Access denied');\n  }\n}\n"})})})]}),"\n",(0,s.jsx)(n.h3,{id:"bulk-authorization-decisions",children:"Bulk Authorization Decisions"}),"\n",(0,s.jsx)(n.p,{children:"For efficient batch processing, use bulk decision endpoints:"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(a.default,{value:"go",label:"Go",children:[(0,s.jsx)(n.h4,{id:"v2-api-recommended-2",children:"V2 API (Recommended)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func getBulkDecisionsV2(client *sdk.SDK) {\n    bulkReq := &authorizationv2.GetDecisionBulkRequest{\n        DecisionRequests: []*authorizationv2.GetDecisionMultiResourceRequest{\n            {\n                EntityIdentifier: &authorizationv2.EntityIdentifier{\n                    Identifier: &authorizationv2.EntityIdentifier_EntityChain{\n                        EntityChain: &entity.EntityChain{\n                            Entities: []*entity.Entity{\n                                {\n                                    EphemeralId: "user-123",\n                                    EntityType: &entity.Entity_EmailAddress{\n                                        EmailAddress: "user@company.com",\n                                    },\n                                },\n                            },\n                        },\n                    },\n                },\n                Action: &policy.Action{Name: "decrypt"},\n                Resources: []*authorizationv2.Resource{\n                    {\n                        EphemeralId: "resource-1",\n                        Resource: &authorizationv2.Resource_AttributeValues_{\n                            AttributeValues: &authorizationv2.Resource_AttributeValues{\n                                Fqns: []string{"https://company.com/attr/class/value/public"},\n                            },\n                        },\n                    },\n                    {\n                        EphemeralId: "resource-2",\n                        Resource: &authorizationv2.Resource_AttributeValues_{\n                            AttributeValues: &authorizationv2.Resource_AttributeValues{\n                                Fqns: []string{"https://company.com/attr/class/value/confidential"},\n                            },\n                        },\n                    },\n                },\n            },\n        },\n    }\n    \n    decisions, err := client.AuthorizationV2.GetDecisionBulk(\n        context.Background(),\n        bulkReq,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    for _, resp := range decisions.GetDecisionResponses() {\n        allPermitted := resp.GetAllPermitted()\n        if allPermitted != nil {\n            fmt.Printf("All resources permitted: %v\\n", allPermitted.GetValue())\n        }\n        for _, resourceDecision := range resp.GetResourceDecisions() {\n            fmt.Printf("Resource %s: %v\\n",\n                resourceDecision.GetEphemeralResourceId(),\n                resourceDecision.GetDecision())\n        }\n    }\n}\n'})}),(0,s.jsx)(n.h4,{id:"v1-api-legacy-2",children:"V1 API (Legacy)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func getBulkDecisionsV1(client *sdk.SDK) {\n    // V1 API uses GetDecisions for bulk processing\n    decisionRequests := []*authorization.DecisionRequest{{\n        Actions: []*policy.Action{{Name: "decrypt"}},\n        EntityChains: []*authorization.EntityChain{{\n            Id: "ec1",\n            Entities: []*authorization.Entity{{\n                EntityType: &authorization.Entity_EmailAddress{\n                    EmailAddress: "user@company.com",\n                },\n                Category: authorization.Entity_CATEGORY_SUBJECT,\n            }},\n        }},\n        ResourceAttributes: []*authorization.ResourceAttribute{\n            {\n                AttributeValueFqns: []string{"https://company.com/attr/class/value/public"},\n            },\n            {\n                AttributeValueFqns: []string{"https://company.com/attr/class/value/confidential"},\n            },\n        },\n    }}\n    \n    decisionRequest := &authorization.GetDecisionsRequest{\n        DecisionRequests: decisionRequests,\n    }\n    \n    decisionResponse, err := client.Authorization.GetDecisions(\n        context.Background(),\n        decisionRequest,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    for _, dr := range decisionResponse.GetDecisionResponses() {\n        fmt.Printf("Entity chain %s: %v\\n",\n            dr.GetEntityChainId(),\n            dr.GetDecision())\n        if len(dr.GetObligations()) > 0 {\n            fmt.Printf("Obligations: %v\\n", dr.GetObligations())\n        }\n    }\n}\n'})})]}),(0,s.jsxs)(a.default,{value:"java",label:"Java",children:[(0,s.jsx)(n.h4,{id:"v2-api-recommended-3",children:"V2 API (Recommended)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public void getBulkDecisions(SDK sdk) throws ExecutionException, InterruptedException {\n    GetDecisionBulkRequest request = GetDecisionBulkRequest.newBuilder()\n        .addDecisionRequests(\n            GetDecisionMultiResourceRequest.newBuilder()\n                .setEntityIdentifier(\n                    EntityIdentifier.newBuilder()\n                        .setEntityChain(\n                            EntityChain.newBuilder()\n                                .addEntities(\n                                    Entity.newBuilder()\n                                        .setId("user-123")\n                                        .setEmailAddress("user@company.com")\n                                )\n                        )\n                )\n                .setAction(\n                    Action.newBuilder()\n                        .setName("decrypt")\n                )\n                .addResources(\n                    Resource.newBuilder()\n                        .setEphemeralId("resource-1")\n                        .setAttributeValues(\n                            Resource.AttributeValues.newBuilder()\n                                .addFqns("https://company.com/attr/class/value/public")\n                        )\n                )\n                .addResources(\n                    Resource.newBuilder()\n                        .setEphemeralId("resource-2")\n                        .setAttributeValues(\n                            Resource.AttributeValues.newBuilder()\n                                .addFqns("https://company.com/attr/class/value/confidential")\n                        )\n                )\n        )\n        .build();\n    \n    GetDecisionBulkResponse resp = sdk.getServices()\n        .authorization()\n        .getDecisionBulk(request)\n        .get();\n    \n    for (GetDecisionMultiResourceResponse response : resp.getDecisionResponsesList()) {\n        if (response.hasAllPermitted()) {\n            System.out.println("All resources permitted: " + response.getAllPermitted().getValue());\n        }\n        for (ResourceDecision resourceDecision : response.getResourceDecisionsList()) {\n            System.out.println("Resource " + resourceDecision.getEphemeralResourceId() + \n                ": " + resourceDecision.getDecision());\n        }\n    }\n}\n'})}),(0,s.jsx)(n.h4,{id:"v1-api-legacy-3",children:"V1 API (Legacy)"}),(0,s.jsx)(l,{})]}),(0,s.jsx)(a.default,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"async function getBulkDecisions(sdk) {\n  const request = {\n    decisionRequests: [{\n      entityIdentifier: {\n        entityChain: {\n          entities: [{\n            id: 'user-123',\n            emailAddress: 'user@company.com'\n          }]\n        }\n      },\n      action: {\n        name: 'decrypt'\n      },\n      resources: [\n        {\n          ephemeralId: 'resource-1',\n          attributeValues: {\n            fqns: ['https://company.com/attr/class/value/public']\n          }\n        },\n        {\n          ephemeralId: 'resource-2',\n          attributeValues: {\n            fqns: ['https://company.com/attr/class/value/confidential']\n          }\n        }\n      ]\n    }]\n  };\n  \n  const response = await sdk.authorization.getDecisionBulk(request);\n  \n  response.decisionResponses.forEach(resp => {\n    if (resp.allPermitted !== undefined) {\n      console.log('All resources permitted:', resp.allPermitted.value);\n    }\n    resp.resourceDecisions.forEach(resourceDecision => {\n      console.log(`Resource ${resourceDecision.ephemeralResourceId}: ${resourceDecision.decision}`);\n    });\n  });\n}\n"})})})]}),"\n",(0,s.jsx)(n.h2,{id:"entity-types-and-authentication",children:"Entity Types and Authentication"}),"\n",(0,s.jsx)(n.p,{children:"OpenTDF supports various entity types for flexible authentication:"}),"\n",(0,s.jsx)(n.h3,{id:"supported-entity-types",children:"Supported Entity Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ClientId"}),": Service-to-service authentication"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"EmailAddress"}),": User identification via email"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UserName"}),": User identification via username"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UUID"}),": Direct entity UUID reference"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Token"}),": JWT-based authentication"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Claims"}),": Custom claims-based entities"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"token-based-authentication-example",children:"Token-Based Authentication Example"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(a.default,{value:"go",label:"Go",children:[(0,s.jsx)(n.h4,{id:"v2-api-recommended-4",children:"V2 API (Recommended)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func getDecisionWithTokenV2(client *sdk.SDK, jwtToken string) {\n    decisionReq := &authorizationv2.GetDecisionRequest{\n        EntityIdentifier: &authorizationv2.EntityIdentifier{\n            Identifier: &authorizationv2.EntityIdentifier_Token{\n                Token: &entity.Token{\n                    EphemeralId: "token-1",\n                    Jwt:         jwtToken,\n                },\n            },\n        },\n        Action: &policy.Action{Name: "decrypt"},\n        Resource: &authorizationv2.Resource{\n            Resource: &authorizationv2.Resource_AttributeValues_{\n                AttributeValues: &authorizationv2.Resource_AttributeValues{\n                    Fqns: []string{"https://company.com/attr/classification/value/public"},\n                },\n            },\n        },\n    }\n    \n    decision, err := client.AuthorizationV2.GetDecision(\n        context.Background(),\n        decisionReq,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    resDecision := decision.GetDecision()\n    fmt.Printf("Token-based decision: %v\\n", resDecision.GetDecision())\n}\n'})}),(0,s.jsx)(n.h4,{id:"v1-api-legacy-4",children:"V1 API (Legacy)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func getDecisionWithTokenV1(client *sdk.SDK, jwtToken string) {\n    // V1 API uses bulk decisions with token entity\n    decisionRequests := []*authorization.DecisionRequest{{\n        Actions: []*policy.Action{{Name: "decrypt"}},\n        EntityChains: []*authorization.EntityChain{{\n            Id: "token-chain",\n            Entities: []*authorization.Entity{{\n                EntityType: &authorization.Entity_Token{\n                    Token: &entity.Token{\n                        EphemeralId: "token-1",\n                        Jwt:         jwtToken,\n                    },\n                },\n                Category: authorization.Entity_CATEGORY_SUBJECT,\n            }},\n        }},\n        ResourceAttributes: []*authorization.ResourceAttribute{{\n            AttributeValueFqns: []string{"https://company.com/attr/classification/value/public"},\n        }},\n    }}\n    \n    decisionRequest := &authorization.GetDecisionsRequest{\n        DecisionRequests: decisionRequests,\n    }\n    \n    decisionResponse, err := client.Authorization.GetDecisions(\n        context.Background(),\n        decisionRequest,\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    for _, dr := range decisionResponse.GetDecisionResponses() {\n        fmt.Printf("Token-based decision: %v\\n", dr.GetDecision())\n        if len(dr.GetObligations()) > 0 {\n            fmt.Printf("Obligations: %v\\n", dr.GetObligations())\n        }\n    }\n}\n'})})]}),(0,s.jsx)(a.default,{value:"java",label:"Java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public void getDecisionWithToken(SDK sdk, String jwtToken) throws ExecutionException, InterruptedException {\n    GetDecisionRequest request = GetDecisionRequest.newBuilder()\n        .setEntityIdentifier(\n            EntityIdentifier.newBuilder()\n                .setToken(\n                    Token.newBuilder()\n                        .setId("token-1")\n                        .setJwt(jwtToken)\n                )\n        )\n        .setAction(\n            Action.newBuilder()\n                .setName("decrypt")\n        )\n        .setResource(\n            Resource.newBuilder()\n                .setAttributeValues(\n                    Resource.AttributeValues.newBuilder()\n                        .addFqns("https://company.com/attr/classification/value/public")\n                )\n        )\n        .build();\n    \n    GetDecisionResponse resp = sdk.getServices()\n        .authorization()\n        .getDecision(request)\n        .get();\n    \n    System.out.println("Token-based decision: " + resp.getDecision().getDecision());\n}\n'})})}),(0,s.jsx)(a.default,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"async function getDecisionWithToken(sdk, jwtToken) {\n  const request = {\n    entityIdentifier: {\n      token: {\n        id: 'token-1',\n        jwt: jwtToken\n      }\n    },\n    action: {\n      name: 'decrypt'\n    },\n    resource: {\n      attributeValues: {\n        fqns: ['https://company.com/attr/classification/value/public']\n      }\n    }\n  };\n  \n  const response = await sdk.authorization.getDecision(request);\n  \n  console.log('Token-based decision:', response.decision.decision);\n}\n"})})})]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Batch Operations"}),": Use bulk endpoints for multiple authorization checks"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Caching"}),": Cache entitlement results when appropriate (consider TTL)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scope Limiting"}),": Use scoped entitlement queries to reduce response size"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Least Privilege"}),": Request only the minimum necessary permissions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Token Validation"}),": Ensure JWT tokens are properly validated before use"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Obligation Handling"}),": Always process and fulfill returned obligations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"}),": Implement proper error handling and fallback policies"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"integration-patterns",children:"Integration Patterns"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// Example: Authorization middleware\nfunc authorizationMiddleware(next http.Handler, sdk *sdk.SDK) http.Handler {\n    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n        // Extract entity from request (JWT, session, etc.)\n        entity := extractEntityFromRequest(r)\n        \n        // Extract resource attributes from the requested resource\n        resourceAttrs := extractResourceAttributes(r.URL.Path)\n        \n        // Make authorization decision\n        decision := makeAuthorizationDecision(sdk, entity, "access", resourceAttrs)\n        \n        if decision == authorization.DecisionResponse_DECISION_PERMIT {\n            next.ServeHTTP(w, r)\n        } else {\n            http.Error(w, "Access denied", http.StatusForbidden)\n        }\n    })\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.p,{children:"Always implement comprehensive error handling for authorization calls:"}),"\n",(0,s.jsx)(r.A,{children:(0,s.jsx)(a.default,{value:"go",label:"Go",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'func safeAuthorizationCall(client *sdk.SDK, req *authorizationv2.GetDecisionRequest) {\n    decision, err := client.AuthorizationV2.GetDecision(context.Background(), req)\n    \n    if err != nil {\n        // Log the error for debugging\n        log.Printf("Authorization error: %v", err)\n        \n        // Implement your fallback policy. Choose one of the options below.\n        \n        // Option 1: Deny by default (more secure)\n        handleAccessDenied()\n        return\n        \n        /*\n        // Option 2: Allow by default (less secure, only for non-critical resources)\n        handleAccessAllowed()\n        return\n        */\n        \n        /*\n        // Option 3: Retry with exponential backoff\n        retryWithBackoff(client, req)\n        return\n        */\n    }\n    \n    // Process successful response\n    handleDecisionResponse(decision)\n}\n'})})})})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},7227:(e,n,t)=>{t.r(n),t.d(n,{default:()=>r});t(96540);var i=t(34164);const s={tabItem:"tabItem_Ymn6"};var o=t(74848);function r({children:e,hidden:n,className:t}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,t),hidden:n,children:e})}},45645:(e,n,t)=>{t.d(n,{A:()=>p});var i=t(96540),s=t(34164),o=t(24245),r=t(8626),a=t(11062);const c={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var l=t(74848);function u({className:e,block:n,selectedValue:t,selectValue:i,tabValues:r}){const a=[],{blockElementScrollPositionUntilNextRender:u}=(0,o.a_)(),d=e=>{const n=e.currentTarget,s=a.indexOf(n),o=r[s].value;o!==t&&(u(n),i(o))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=a.indexOf(e.currentTarget)+1;n=a[t]??a[0];break}case"ArrowLeft":{const t=a.indexOf(e.currentTarget)-1;n=a[t]??a[a.length-1];break}}n?.focus()};return(0,l.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:r.map((({value:e,label:n,attributes:i})=>(0,l.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{a.push(e)},onKeyDown:h,onClick:d,...i,className:(0,s.A)("tabs__item",c.tabItem,i?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function d({lazy:e,children:n,selectedValue:t}){const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=o.find((e=>e.props.value===t));return e?(0,i.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,l.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function h(e){const n=(0,r.u)(e);return(0,l.jsxs)("div",{className:(0,s.A)("tabs-container",c.tabList),children:[(0,l.jsx)(u,{...n,...e}),(0,l.jsx)(d,{...n,...e})]})}function p(e){const n=(0,a.default)();return(0,l.jsx)(h,{...e,children:(0,r.v)(e.children)},String(n))}},8626:(e,n,t)=>{t.d(n,{u:()=>p,v:()=>l});var i=t(96540),s=t(56347),o=t(36494),r=t(62814),a=t(45167),c=t(69900);function l(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return l(e).map((({props:{value:e,label:n,attributes:t,default:i}})=>({value:e,label:n,attributes:t,default:i})))}(t);return function(e){const n=(0,a.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function d({value:e,tabValues:n}){return n.some((n=>n.value===e))}function h({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),o=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,r.aZ)(o),(0,i.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(t.location.search);n.set(o,e),t.replace({...t.location,search:n.toString()})}),[o,t])]}function p(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,r=u(e),[a,l]=(0,i.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!d({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r}))),[p,m]=h({queryString:t,groupId:s}),[g,f]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,s]=(0,c.Dv)(n);return[t,(0,i.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:s}),y=(()=>{const e=p??g;return d({value:e,tabValues:r})?e:null})();(0,o.A)((()=>{y&&l(y)}),[y]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!d({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),m(e),f(e)}),[m,f,r]),tabValues:r}}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);