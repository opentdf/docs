"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4027],{55435:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"components/policy/keymanagement/base_key","title":"Base Key","description":"A base key, or default key, is a key that will be used when no grants or key mappings are found from the attributes passed in. Base keys are set by an admin for the purpose of ensuring that insecure keys are not used by default when no mappings/grants are found.","source":"@site/docs/components/policy/keymanagement/base_key.md","sourceDirName":"components/policy/keymanagement","slug":"/components/policy/keymanagement/base_key","permalink":"/preview-ad81f576/components/policy/keymanagement/base_key","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"slug":"/components/policy/keymanagement/base_key"},"sidebar":"tutorialSidebar","previous":{"title":"Key Management","permalink":"/preview-ad81f576/components/policy/keymanagement"},"next":{"title":"Key Managers","permalink":"/preview-ad81f576/components/policy/keymanagement/key_managers"}}');var o=t(74848),a=t(28453);const i={sidebar_position:1,slug:"/components/policy/keymanagement/base_key"},r="Base Key",l={},c=[{value:"How to get/set a base key",id:"how-to-getset-a-base-key",level:2},{value:"Effects of using base key",id:"effects-of-using-base-key",level:2}];function d(e){const n={a:"a",admonition:"admonition",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"base-key",children:"Base Key"})}),"\n",(0,o.jsx)(n.p,{children:"A base key, or default key, is a key that will be used when no grants or key mappings are found from the attributes passed in. Base keys are set by an admin for the purpose of ensuring that insecure keys are not used by default when no mappings/grants are found."}),"\n",(0,o.jsx)(n.h2,{id:"how-to-getset-a-base-key",children:"How to get/set a base key"}),"\n",(0,o.jsx)(n.admonition,{type:"important",children:(0,o.jsx)(n.p,{children:"You must have admin permission to use any key operations."})}),"\n",(0,o.jsxs)(n.p,{children:["When using the ",(0,o.jsx)(n.a,{href:"https://github.com/opentdf/platform/blob/5221cf41079fc43a3966e17c6f3e0d3cf8a16730/service/policy/kasregistry/key_access_server_registry.proto#L692-L696",children:"kas-registry proto"})," and an active connection to the platform you can use the above base key rpcs to set and retrieve the base key."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://github.com/opentdf/otdfctl/tree/main/docs/man/policy/kas-registry/key/base",children:"otdfctl base key"})," provides documentation on how to set / get base keys with the OpenTDF CLI."]}),"\n",(0,o.jsx)(n.h2,{id:"effects-of-using-base-key",children:"Effects of using base key"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["When a base key is specified the SDK will prefer to use it over the passed in kas info list. The SDK will ",(0,o.jsx)(n.strong,{children:"overwrite"})," the following information if a base key is registered with the platform:","\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"The passed in kas information list"}),"\n",(0,o.jsx)(n.li,{children:"The key algorithm"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:"If a base key is not present, the SDK will fallback to using the passed in kas information list and key algorithm."}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"In upcoming versions of the SDK, post v0.5.0, the SDK will prefer to error when no base key is set; instead of falling back."})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var s=t(96540);const o={},a=s.createContext(o);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);