"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3096],{10425:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"components/cli/policy/kas-registry/update","title":"otdfctl policy kas-registry update","description":"Update the uri, metadata, or key material (remote/cached) for a KAS registered to the platform.","source":"@site/docs/components/cli/policy/kas-registry/update.mdx","sourceDirName":"components/cli/policy/kas-registry","slug":"/components/cli/policy/kas-registry/update","permalink":"/preview-ad81f576/components/cli/policy/kas-registry/update","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"otdfctl policy kas-registry update"},"sidebar":"tutorialSidebar","previous":{"title":"otdfctl policy kas-registry list","permalink":"/preview-ad81f576/components/cli/policy/kas-registry/list"},"next":{"title":"otdfctl policy key-management","permalink":"/preview-ad81f576/components/cli/policy/key-management/"}}');var n=t(74848),i=t(28453),o=(t(96540),t(68818));const a={title:"otdfctl policy kas-registry update"},c=void 0,l={},d=[{value:"Example",id:"example",level:2}];function h(e){const r={code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(o.A,{...JSON.parse('{"title":"Update a Key Access Server registration","command":{"name":"update","aliases":["u"],"flags":[{"name":"id","shorthand":"i","description":"ID of the Key Access Server registration","required":true},{"name":"uri","shorthand":"u","description":"URI of the Key Access Server"},{"name":"public-keys","shorthand":"c","description":"One or more \'cached\' public keys saved for the KAS"},{"name":"public-key-remote","shorthand":"r","description":"URI of the \'remote\' public key of the Key Access Server"},{"name":"name","shorthand":"n","description":"Optional name of the registered KAS (must be unique within Policy)"},{"name":"label","description":"Optional metadata \'labels\' in the format: key=value","shorthand":"l","default":""},{"name":"force-replace-labels","description":"Destructively replace entire set of existing metadata \'labels\' with any provided to this command","default":false}]},"fullCommand":"otdfctl policy kas-registry update"}'),children:[(0,n.jsxs)(r.p,{children:["Update the ",(0,n.jsx)(r.code,{children:"uri"}),", ",(0,n.jsx)(r.code,{children:"metadata"}),", or key material (remote/cached) for a KAS registered to the platform."]}),(0,n.jsx)(r.p,{children:"If resource data has been TDFd utilizing key splits from the registered KAS, deletion from\nthe registry (and therefore any associated grants) may prevent decryption depending on the\ntype of grants and relevant key splits."}),(0,n.jsx)(r.p,{children:"Make sure you know what you are doing."}),(0,n.jsxs)(r.p,{children:["For more information about registration of Key Access Servers, see the manual for ",(0,n.jsx)(r.code,{children:"kas-registry"}),"."]}),(0,n.jsx)(r.h2,{id:"example",children:"Example"}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-shell",children:'otdfctl policy kas-registry update --id 3c39618a-cd8c-48cf-a60c-e8a2f4be4dd5 --name example-kas2-newname --public-key-remote "https://example.com/kas2/new_public_key"\n'})})]})}function p(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},68818:(e,r,t)=>{t.d(r,{A:()=>p});var s=t(96540);const n=(0,s.createContext)(null),i={didCatch:!1,error:null};class o extends s.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=i}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var r,t,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];null===(r=(t=this.props).onReset)||void 0===r||r.call(t,{args:n,reason:"imperative-api"}),this.setState(i)}}componentDidCatch(e,r){var t,s;null===(t=(s=this.props).onError)||void 0===t||t.call(s,e,r)}componentDidUpdate(e,r){const{didCatch:t}=this.state,{resetKeys:s}=this.props;var n,o;t&&null!==r.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==r.length||e.some(((e,t)=>!Object.is(e,r[t])))}(e.resetKeys,s)&&(null===(n=(o=this.props).onReset)||void 0===n||n.call(o,{next:s,prev:e.resetKeys,reason:"keys"}),this.setState(i))}render(){const{children:e,fallbackRender:r,FallbackComponent:t,fallback:i}=this.props,{didCatch:o,error:a}=this.state;let c=e;if(o){const e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof r)c=r(e);else if(t)c=(0,s.createElement)(t,e);else{if(void 0===i)throw a;c=i}}return(0,s.createElement)(n.Provider,{value:{didCatch:o,error:a,resetErrorBoundary:this.resetErrorBoundary}},c)}}var a=t(74848);function c({name:e,shorthand:r,description:t,default:s,required:n}){const i=(0,a.jsxs)("code",{children:["--",e," <",e,">"]}),o=r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("code",{children:["-",r]}),","]});return(0,a.jsxs)("dl",{children:[(0,a.jsxs)("dt",{children:[o," ",i]}),(0,a.jsxs)("dd",{children:[t,"\xa0(",(0,a.jsx)("em",{children:"required"}),": ",(0,a.jsx)("code",{children:n?"true":"false"}),")",s&&(0,a.jsxs)(a.Fragment,{children:["\xa0(",(0,a.jsx)("em",{children:"default"}),": ",(0,a.jsx)("code",{children:s}),")"]})]})]})}function l(e){return e?(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Options"}),e?.map((e=>(0,a.jsx)(c,{...e})))]}):null}function d(e){return e?(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Aliases"}),e?.map(((r,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("code",{children:r}),t<e.length-1&&", "]})))]}):null}function h({children:e,fullCommand:r,title:t,command:s}){console.log(s);const{flags:n,args:i,arbitrary_args:o,aliases:c,hidden:h}=s;let p=r;return n&&(p+=" [flags]"),i&&(p+=" "+i.map((e=>`<${e}>`)).join(" ")),o&&(p+=" "+o.map((e=>`[${e}]`)).join(" ")),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[s.name," - ",t]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Synopsis"}),(0,a.jsx)("pre",{children:(0,a.jsx)("code",{children:p})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Description"}),e]}),l(n),d(c)]})}function p({children:e,...r}){return(0,a.jsx)(o,{fallback:({error:e,tryAgain:r})=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["This component crashed because of error: ",e.message,"."]}),(0,a.jsx)("button",{onClick:r,children:"Try Again!"})]}),children:(0,a.jsx)(h,{...r,children:e})})}},28453:(e,r,t)=>{t.d(r,{R:()=>o,x:()=>a});var s=t(96540);const n={},i=s.createContext(n);function o(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);