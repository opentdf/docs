(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8983],{41955:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>f,frontMatter:()=>l,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"getting-started/index","title":"Getting Started","description":"{`","source":"@site/docs/getting-started/index.mdx","sourceDirName":"getting-started","slug":"/getting-started","permalink":"/preview-ad81f576/getting-started","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"/getting-started","title":"Getting Started","sidebar_label":"Getting Started"},"sidebar":"tutorialSidebar","previous":{"title":"Welcome to OpenTDF Docs","permalink":"/preview-ad81f576/introduction"},"next":{"title":"Configuration","permalink":"/preview-ad81f576/getting-started/configuration"}}');var a=n(74848),r=n(28453);const i='networks:\n  default:\n    name: opentdf_platform\n\nconfigs:\n  caddy_config:\n    content: |\n      {\n        log {\n            level INFO\n            output stdout\n        }\n      }\n      https://keycloak.opentdf.local:9443 {\n        tls internal\n        reverse_proxy keycloak:8888\n      }\n      https://platform.opentdf.local:8443 {\n        tls internal\n        reverse_proxy {\n            to h2c://platform:8080\n            transport http {\n                versions h2c 2 1.1  # Enable gRPC proxying\n            }\n        }\n      }\n\nservices:\n  caddy:\n    image: caddy:2.8.4-alpine\n    command: [\'caddy\',\'run\', \'--config\', \'/etc/caddy/Caddyfile\']\n    configs:\n      - source: caddy_config\n        target: /etc/caddy/Caddyfile\n    ports:\n      - "8443:8443"\n      - "9443:9443"\n      - "2019:2019"\n    volumes:\n      - caddy_data:/data\n    depends_on:\n      ensure-permissions:\n        condition: service_completed_successfully\n    healthcheck:\n      test: ["CMD", "wget", "--spider", "-q", "http://127.0.0.1:2019/metrics"]\n      interval: 5s\n      timeout: 5s\n      retries: 3\n    restart: unless-stopped\n\n  check-certs:\n    image: alpine:3.23\n    volumes:\n      - type: volume\n        source: caddy_data\n        target: /etc/ssl/certs\n        volume:\n          subpath: caddy/certificates/local/keycloak.opentdf.local/\n    command:\n      - sh\n      - -c\n      - |\n        echo "Checking certificates"\n        ls -alh /etc/ssl/certs\n        cat /etc/ssl/certs/keycloak.opentdf.local.crt\n    depends_on:\n      caddy:\n        condition: service_healthy\n      ensure-permissions:\n        condition: service_completed_successfully\n    restart: "no"\n\n  ensure-permissions:\n    image: alpine:3.23\n    command:\n    - \'sh\'\n    - \'-c\'\n    - |\n      chmod -R 755 /data\n    volumes:\n      - caddy_data:/data\n    restart: "no"\n\n  keycloak:\n    volumes:\n    - keys:/keys:ro\n    image: keycloak/keycloak:25.0\n    restart: always\n    depends_on:\n      fix-keys-permissions:\n        condition: service_completed_successfully\n    command:\n    - "start-dev"\n    - "--verbose"\n    - "-Djavax.net.ssl.trustStorePassword=password"\n    - "-Djavax.net.ssl.HostnameVerifier=AllowAll"\n    - "-Djavax.net.ssl.trustStore=/keys/ca.jks"\n    - "--spi-truststore-file-hostname-verification-policy=ANY"\n    environment:\n      KC_PROXY: edge\n      KC_HTTP_RELATIVE_PATH: /auth\n      KC_HOSTNAME_STRICT: "false"\n      KC_HOSTNAME_STRICT_BACKCHANNEL: "false"\n      KC_HOSTNAME_STRICT_HTTPS: "false"\n      KC_HTTP_ENABLED: "true"\n      KC_HTTP_PORT: "8888"\n      KC_HTTPS_PORT: "8443"\n      KC_HTTP_MANAGEMENT_PORT: "9001"\n      KEYCLOAK_ADMIN: admin\n      KEYCLOAK_ADMIN_PASSWORD: changeme\n      #KC_HOSTNAME_URL: http://localhost:8888/auth\n      KC_FEATURES: "preview,token-exchange"\n      KC_HEALTH_ENABLED: "true"\n      KC_HTTPS_KEY_STORE_PASSWORD: "password"\n      KC_HTTPS_KEY_STORE_FILE: "/keys/ca.jks"\n      KC_HTTPS_CERTIFICATE_FILE: "/keys/localhost.crt"\n      KC_HTTPS_CERTIFICATE_KEY_FILE: "/keys/localhost.key"\n      KC_HTTPS_CLIENT_AUTH: "request"\n      ###\n      # The following environment variable resolves SIGILL with Code 134 when running Java processes on Apple M4 chips\n      # \n      # On Apple Silicon (M4 chip):\n      #   export JAVA_OPTS_APPEND="-XX:UseSVE=0"\n      #   docker-compose up\n      # \n      # On other architectures:\n      #   export JAVA_OPTS_APPEND=""\n      #   docker-compose up\n      # \n      # Or set directly: JAVA_OPTS_APPEND="-XX:UseSVE=0" docker-compose up\n      JAVA_OPTS_APPEND: "${JAVA_OPTS_APPEND:-}"\n      ###\n    # ports:\n    #   - "${KC_EXPOSE_PORT:-8443}:8443"\n    #   - "${KC_EXPOSE_PORT_HTTP:-8888}:8888"\n    #   - "${KC_EXPOSE_PORT_MGMT:-9001}:9001"\n    healthcheck:\n      test:\n        - CMD-SHELL\n        - |\n          [ -f /tmp/HealthCheck.java ] || echo "public class HealthCheck { \n            public static void main(String[] args) throws java.lang.Throwable { \n              javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier((hostname, session) -> true); \n              javax.net.ssl.SSLContext sc = javax.net.ssl.SSLContext.getInstance(\\"SSL\\"); \n              sc.init(null, new javax.net.ssl.TrustManager[]{ \n                new javax.net.ssl.X509TrustManager() { \n                  public java.security.cert.X509Certificate[] getAcceptedIssuers() { return null; } \n                  public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {} \n                  public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {} \n                } \n              }, new java.security.SecureRandom()); \n              javax.net.ssl.HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory()); \n              java.net.HttpURLConnection conn = (java.net.HttpURLConnection)new java.net.URL(args[0]).openConnection(); \n              System.exit(java.net.HttpURLConnection.HTTP_OK == conn.getResponseCode() ? 0 : 1); \n            } \n          }" > /tmp/HealthCheck.java && java ${JAVA_OPTS_APPEND} /tmp/HealthCheck.java http://localhost:8888/auth 2>/dev/null\n      interval: 10s\n      timeout: 10s\n      retries: 10\n      start_period: 3m\n  opentdfdb:\n    image: postgres:15-alpine\n    restart: always\n    user: postgres\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: changeme\n      POSTGRES_DB: opentdf\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready"]\n      interval: 5s\n      timeout: 5s\n      retries: 10\n\n  jaeger:\n    image: jaegertracing/all-in-one:latest\n    environment:\n      COLLECTOR_OTLP_ENABLED: "true"\n    ports:\n      - "16686:16686"   # Web UI\n      - "4317:4317"     # OTLP gRPC\n      - "4318:4318"     # OTLP HTTP\n      - "14250:14250"   # Model/collector gRPC\n    profiles:\n      - tracing\n    restart: always\n\n  # Provision Keycloak with initial configuration\n  platform-provision-keycloak:\n    image: registry.opentdf.io/platform:nightly\n    command: ["provision", "keycloak", "-e", "https://keycloak.opentdf.local:9443/auth", "-f", "/configs/keycloak_data.yaml"]\n    depends_on:\n      keycloak:\n        condition: service_healthy\n      opentdfdb:\n        condition: service_healthy\n      patch-platform-config:\n        condition: service_completed_successfully\n      download-keycloak-data:\n        condition: service_completed_successfully\n      generate-keys:\n        condition: service_completed_successfully\n    volumes:\n      - configs:/configs:ro\n      - keys:/keys:ro\n    environment:\n      - OPENTDF_CONFIG_FILE=/configs/opentdf.yaml\n    restart: "no"\n    extra_hosts:\n      - "keycloak.opentdf.local:host-gateway"\n  # Prepare fixtures directory structure - create symlink to expected location\n  prepare-fixtures:\n    image: alpine:3.23\n    volumes:\n      - configs:/configs\n    depends_on:\n      download-fixtures:\n        condition: service_completed_successfully\n    command:\n      - sh\n      - -c\n      - |\n        mkdir -p /configs/service/internal/fixtures\n        cd /configs\n        ln -sf /configs/service/internal/fixtures ./service\n    restart: "no"\n\n  # Add sample attributes and metadata  \n  platform-provision-fixtures:\n    image: registry.opentdf.io/platform:nightly\n    command: ["provision", "fixtures", "--config-file", "/configs/opentdf.yaml"]\n    working_dir: /configs\n    depends_on:\n      platform-provision-keycloak:\n        condition: service_completed_successfully\n      opentdfdb:\n        condition: service_healthy\n      prepare-fixtures:\n        condition: service_completed_successfully\n      generate-keys:\n        condition: service_completed_successfully\n    volumes:\n      - configs:/configs:ro\n      - keys:/keys:ro\n    restart: "no"\n\n  # Prepare CA certificates bundle with Caddy cert\n  prepare-ca-certs:\n    image: alpine:3.23\n    volumes:\n      - type: volume\n        source: caddy_data\n        target: /caddy-certs\n        read_only: true\n        volume:\n          subpath: caddy/certificates/local/keycloak.opentdf.local\n      - platform_certs:/etc/ssl/certs\n    depends_on:\n      caddy:\n        condition: service_healthy\n    command:\n      - sh\n      - -c\n      - |\n        # Install ca-certificates package\n        apk add --no-cache ca-certificates\n        # Copy Caddy certificate to CA bundle\n        cp /caddy-certs/keycloak.opentdf.local.crt /usr/local/share/ca-certificates/\n        update-ca-certificates\n        # Copy the updated CA bundle to shared volume\n        cp -r /etc/ssl/certs/* /etc/ssl/certs/\n        echo "CA certificates prepared successfully"\n    restart: "no"\n\n  # Main OpenTDF Platform server\n  platform:\n    image: registry.opentdf.io/platform:nightly\n    command: ["start", "--config-file", "/configs/opentdf.yaml"]\n    depends_on:\n      platform-provision-fixtures:\n        condition: service_completed_successfully\n      keycloak:\n        condition: service_healthy\n      opentdfdb:\n        condition: service_healthy\n      generate-keys:\n        condition: service_completed_successfully\n      prepare-ca-certs:\n        condition: service_completed_successfully\n    ports:\n      - "8080:8080"\n    volumes:\n      - configs:/configs:ro\n      - keys:/keys:ro\n      - platform_certs:/etc/ssl/certs:ro\n    extra_hosts:\n      - "keycloak.opentdf.local:host-gateway"\n    restart: unless-stopped\n\n  # Initialize volume permissions\n  init-volumes:\n    image: alpine:3.23\n    volumes:\n      - configs:/configs\n      - keys:/keys\n    command:\n      - sh\n      - -c\n      - |\n        chmod 777 /configs /keys\n        mkdir -p /configs/service/internal/fixtures\n        chmod -R 777 /configs\n    restart: "no"\n\n  # Fix keys permissions after generation\n  fix-keys-permissions:\n    image: alpine:3.23\n    volumes:\n      - keys:/keys\n    depends_on:\n      generate-keys:\n        condition: service_completed_successfully\n    command:\n      - sh\n      - -c\n      - |\n        chmod -R 755 /keys\n        chmod 644 /keys/*\n    restart: "no"\n\n  # Download platform configuration file\n  download-platform-config:\n    image: alpine:3.23\n    volumes:\n      - configs:/configs\n    depends_on:\n      init-volumes:\n        condition: service_completed_successfully\n    command: [\'wget\', \'-O\', \'/configs/opentdf.yaml\', \'https://raw.githubusercontent.com/opentdf/platform/main/opentdf-example.yaml\']\n    restart: "no"\n\n  # Patch platform configuration to use keycloak.opentdf.local:9443\n  patch-platform-config:\n    image: alpine:3.23\n    volumes:\n      - configs:/configs\n    depends_on:\n      download-platform-config:\n        condition: service_completed_successfully\n    command:\n      - sh\n      - -c\n      - |\n        apk add --no-cache sed\n        sed -i \'s|http://keycloak:8888|https://keycloak.opentdf.local:9443|g\' /configs/opentdf.yaml\n        echo "Patched opentdf.yaml to use keycloak.opentdf.local:9443"\n    restart: "no"\n\n  # Download Keycloak provisioning data\n  download-keycloak-data:\n    image: alpine:3.23\n    volumes:\n      - configs:/configs\n    depends_on:\n      init-volumes:\n        condition: service_completed_successfully\n    entrypoint: /bin/sh\n    command:\n      - -c\n      - |\n        URL=\'https://raw.githubusercontent.com/opentdf/platform/main/service/cmd/keycloak_data.yaml\'\n        OUTPUT=\'/configs/keycloak_data.yaml\'\n        MAX_ATTEMPTS=3\n        \n        for i in $$(seq 1 $$MAX_ATTEMPTS); do\n          echo "Attempt $$i of $$MAX_ATTEMPTS: Downloading keycloak_data.yaml..."\n          \n          if wget -O "$$OUTPUT" "$$URL"; then\n            echo "Download successful"\n            \n            # Validate the downloaded file\n            if [ -f "$$OUTPUT" ] && [ -s "$$OUTPUT" ]; then\n              if head -1 "$$OUTPUT" | grep -q -E \'^(---|\\w+:)\'; then\n                echo "Validation passed: File exists, non-empty, and appears to be valid YAML"\n                exit 0\n              else\n                echo "Validation failed: File does not appear to be valid YAML"\n                rm -f "$$OUTPUT"\n              fi\n            else\n              echo "Validation failed: File is missing or empty"\n            fi\n          else\n            echo "Download failed (attempt $$i)"\n          fi\n          \n          if [ $$i -lt $$MAX_ATTEMPTS ]; then\n            echo "Retrying in 2 seconds..."\n            sleep 2\n          fi\n        done\n        \n        echo "ERROR: Failed to download and validate keycloak_data.yaml after $$MAX_ATTEMPTS attempts"\n        exit 1\n    restart: "no"\n\n  # Download fixtures data\n  download-fixtures:\n    image: alpine:3.23\n    volumes:\n      - configs:/configs\n    depends_on:\n      init-volumes:\n        condition: service_completed_successfully\n    command: [\'wget\', \'-O\', \'/configs/service/internal/fixtures/policy_fixtures.yaml\', \'https://raw.githubusercontent.com/opentdf/platform/main/service/internal/fixtures/policy_fixtures.yaml\']\n    restart: "no"\n\n  # Download init-temp-keys script\n  download-init-script:\n    image: alpine:3.23\n    volumes:\n      - configs:/configs\n    depends_on:\n      init-volumes:\n        condition: service_completed_successfully\n    entrypoint: /bin/sh\n    command:\n      - -c\n      - |\n        URL=\'https://raw.githubusercontent.com/opentdf/platform/main/.github/scripts/init-temp-keys.sh\'\n        OUTPUT=\'/configs/init-temp-keys.sh\'\n        MAX_ATTEMPTS=3\n        \n        for i in $$(seq 1 $$MAX_ATTEMPTS); do\n          echo "Attempt $$i of $$MAX_ATTEMPTS: Downloading init-temp-keys.sh..."\n          \n          if wget -O "$$OUTPUT" "$$URL"; then\n            echo "Download successful"\n            \n            # Validate the downloaded file\n            if [ -f "$$OUTPUT" ] && [ -s "$$OUTPUT" ]; then\n              if head -1 "$$OUTPUT" | grep -q \'^#!/\'; then\n                echo "Validation passed: File exists, non-empty, and appears to be a shell script"\n                exit 0\n              else\n                echo "Validation failed: File does not appear to be a valid shell script"\n                rm -f "$$OUTPUT"\n              fi\n            else\n              echo "Validation failed: File is missing or empty"\n            fi\n          else\n            echo "Download failed (attempt $$i)"\n          fi\n          \n          if [ $$i -lt $$MAX_ATTEMPTS ]; then\n            echo "Retrying in 2 seconds..."\n            sleep 2\n          fi\n        done\n        \n        echo "ERROR: Failed to download and validate init-temp-keys.sh after $$MAX_ATTEMPTS attempts"\n        exit 1\n    restart: "no"\n\n  # Generate keys without Docker dependency\n  generate-keys:\n    image: alpine:3.23\n    volumes:\n      - configs:/configs\n      - keys:/keys\n    depends_on:\n      download-init-script:\n        condition: service_completed_successfully\n      init-volumes:\n        condition: service_completed_successfully\n    entrypoint: /bin/sh\n    command:\n      - -c\n      - |\n        apk add --no-cache openssl openjdk11-jre bash\n        cd /keys\n        \n        # Generate KAS RSA private key\n        openssl genpkey -algorithm RSA -out /keys/kas-private.pem -pkeyopt rsa_keygen_bits:2048\n        openssl rsa -in /keys/kas-private.pem -pubout -out /keys/kas-cert.pem\n        \n        # Generate ECC Key\n        openssl ecparam -name prime256v1 > /tmp/ecparams.tmp\n        openssl req -x509 -nodes -newkey ec:/tmp/ecparams.tmp -subj "/CN=kas" -keyout /keys/kas-ec-private.pem -out /keys/kas-ec-cert.pem -days 365\n        \n        # Generate CA\n        openssl req -x509 -nodes -newkey RSA:2048 -subj "/CN=ca" -keyout /keys/keycloak-ca-private.pem -out /keys/keycloak-ca.pem -days 365\n        \n        # Generate localhost certificate\n        printf "subjectAltName=DNS:localhost,IP:127.0.0.1" > /tmp/sanX509.conf\n        printf "[req]\\ndistinguished_name=req_distinguished_name\\n[req_distinguished_name]\\n[alt_names]\\nDNS.1=localhost\\nIP.1=127.0.0.1" > /tmp/req.conf\n        openssl req -new -nodes -newkey rsa:2048 -keyout /keys/localhost.key -out /tmp/localhost.req -batch -subj "/CN=localhost" -config /tmp/req.conf\n        openssl x509 -req -in /tmp/localhost.req -CA /keys/keycloak-ca.pem -CAkey /keys/keycloak-ca-private.pem -CAcreateserial -out /keys/localhost.crt -days 3650 -sha256 -extfile /tmp/sanX509.conf\n        \n        # Generate sample user certificate\n        openssl req -new -nodes -newkey rsa:2048 -keyout /keys/sampleuser.key -out /tmp/sampleuser.req -batch -subj "/CN=sampleuser"\n        openssl x509 -req -in /tmp/sampleuser.req -CA /keys/keycloak-ca.pem -CAkey /keys/keycloak-ca-private.pem -CAcreateserial -out /keys/sampleuser.crt -days 3650\n        \n        # Convert to PKCS12\n        openssl pkcs12 -export -in /keys/keycloak-ca.pem -inkey /keys/keycloak-ca-private.pem -out /keys/ca.p12 -nodes -passout pass:password\n        \n        # Convert PKCS12 to JKS using keytool (no Docker needed)\n        keytool -importkeystore \\\n          -srckeystore /keys/ca.p12 \\\n          -srcstoretype PKCS12 \\\n          -destkeystore /keys/ca.jks \\\n          -deststoretype JKS \\\n          -srcstorepass "password" \\\n          -deststorepass "password" \\\n          -noprompt\n        \n        echo "Keys generated successfully"\n    environment:\n      JAVA_OPTS_APPEND: "${JAVA_OPTS_APPEND:-}"\n    restart: "no"\n\nvolumes:\n  keys:\n    name: opentdf_keys\n  configs:\n    name: opentdf_configs\n  caddy_data:\n  platform_certs:\n    name: opentdf_platform_certs\n\n';var c=n(93341),o=n.n(c);const l={slug:"/getting-started",title:"Getting Started",sidebar_label:"Getting Started"},d="Getting Started",p={},h=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Update /etc/hosts",id:"update-etchosts",level:2},{value:"Getting the Platform Running",id:"getting-the-platform-running",level:2},{value:"Save the Docker Compose File",id:"save-the-docker-compose-file",level:3},{value:"Start the Platform",id:"start-the-platform",level:3},{value:"Trust Self Signed Certificates",id:"trust-self-signed-certificates",level:2},{value:"Import and Trust Certificates by Operating System",id:"import-and-trust-certificates-by-operating-system",level:3},{value:"Create a Profile",id:"create-a-profile",level:2},{value:"Login to the Platform",id:"login-to-the-platform",level:2},{value:"Create A Namespace",id:"create-a-namespace",level:2},{value:"Create a new namespace",id:"create-a-new-namespace",level:3},{value:"List the namespaces",id:"list-the-namespaces",level:3},{value:"Get the details of the namespace",id:"get-the-details-of-the-namespace",level:3},{value:"Create an Attribute",id:"create-an-attribute",level:2},{value:"Create attribute definition",id:"create-attribute-definition",level:3},{value:"Create attribute values",id:"create-attribute-values",level:3},{value:"Get the attribute details",id:"get-the-attribute-details",level:3},{value:"Create a Subject Mapping",id:"create-a-subject-mapping",level:2},{value:"Create a Subject Condition Set",id:"create-a-subject-condition-set",level:3},{value:"Create a Subject Mapping",id:"create-a-subject-mapping-1",level:3},{value:"Encrypt Some Data With TDF",id:"encrypt-some-data-with-tdf",level:2},{value:"Encrypt Data Without Attributes",id:"encrypt-data-without-attributes",level:3},{value:"Example zTDF encryption",id:"example-ztdf-encryption",level:4},{value:"Decrypt Data Without Attributes",id:"decrypt-data-without-attributes",level:3},{value:"Encrypt Data With Attributes",id:"encrypt-data-with-attributes",level:3},{value:"Example zTDF encryption with attributes",id:"example-ztdf-encryption-with-attributes",level:4},{value:"Decrypt Data With Attributes",id:"decrypt-data-with-attributes",level:3},{value:"Example zTDF failed decryption",id:"example-ztdf-failed-decryption",level:4},{value:"Create a new subject mapping",id:"create-a-new-subject-mapping",level:4},{value:"Example zTDF successful decryption",id:"example-ztdf-successful-decryption",level:4},{value:"Takeaways and Next Steps",id:"takeaways-and-next-steps",level:2}];function u(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n.download-button {\n  display: inline-block;\n  padding: 8px 16px;\n  background-color: #0066cc;\n  color: white;\n  text-decoration: none;\n  border-radius: 4px;\n  margin-bottom: 16px;\n  transition: all 0.2s ease;\n}\n\n.download-button:hover {\n  background-color: #0052a3;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  color: white;\n}\n\n"}),"\n",(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"getting-started",children:"Getting Started"})}),"\n",(0,a.jsx)(t.p,{children:"This guide will walk you through setting up a new platform locally and walk you through some of the basic concepts within the OpenTDF platform."}),"\n",(0,a.jsx)(t.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["A copy of the ",(0,a.jsx)(t.code,{children:"otdfctl"})," CLI.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://github.com/opentdf/otdfctl/releases",children:"Download the latest release"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["A tool to run the compose file.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://podman.io/",children:"Podman"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://docs.docker.com/compose/",children:"Docker Compose"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"update-etchosts",children:"Update /etc/hosts"}),"\n",(0,a.jsxs)(t.p,{children:["In order for the services to communicate correctly you will need to update your ",(0,a.jsx)(t.code,{children:"/etc/hosts"})," file."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:'echo -e "127.0.0.1 platform.opentdf.local\\n127.0.0.1 keycloak.opentdf.local" | sudo tee -a /etc/hosts\n'})}),"\n",(0,a.jsx)(t.h2,{id:"getting-the-platform-running",children:"Getting the Platform Running"}),"\n",(0,a.jsxs)(t.p,{children:["The first step is to get the platform running locally. You can use the following docker compose file to get the platform running. This docker compose file will start a local instance of the ",(0,a.jsx)(t.a,{href:"https://github.com/opentdf/platform/tree/main",children:"platform"}),", ",(0,a.jsx)(t.a,{href:"https://www.keycloak.org/",children:"Keycloak"}),", and a ",(0,a.jsx)(t.a,{href:"https://www.postgresql.org/",children:"Postgres"})," database."]}),"\n",(0,a.jsx)(t.admonition,{type:"warning",children:(0,a.jsx)(t.p,{children:"Not for production use."})}),"\n",(0,a.jsx)("a",{href:"/quickstart/docker-compose.yaml",download:"docker-compose.yaml",className:"download-button",children:"Download docker-compose.yaml"}),"\n",(0,a.jsxs)(n,{children:[(0,a.jsx)("summary",{children:"Docker Compose"}),(0,a.jsx)(o(),{language:"yaml",children:i})]}),"\n",(0,a.jsx)(t.h3,{id:"save-the-docker-compose-file",children:"Save the Docker Compose File"}),"\n",(0,a.jsxs)(t.p,{children:["Click the ",(0,a.jsx)(t.strong,{children:"download"})," button above to save the ",(0,a.jsx)(t.code,{children:"docker-compose.yaml"})," file to your local machine. If you prefer to copy the content manually, save it as ",(0,a.jsx)(t.code,{children:"docker-compose.yaml"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"start-the-platform",children:"Start the Platform"}),"\n",(0,a.jsxs)(t.p,{children:["Once you have the ",(0,a.jsx)(t.code,{children:"docker-compose.yaml"})," file saved, start the platform using the following command:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:'# If running on Apple M4 chip\nJAVA_OPTS_APPEND="-XX:UseSVE=0" docker compose --file docker-compose.yaml up -d\n\n# Or on other architectures\ndocker compose --file docker-compose.yaml up -d\n'})}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Note for Apple M4 chip users:"}),(0,a.jsx)(t.br,{}),"\n","The ",(0,a.jsx)(t.code,{children:'JAVA_OPTS_APPEND="-XX:UseSVE=0"'})," environment variable resolves SIGILL with Code 134 errors when running Java processes (such as Keycloak)."]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"trust-self-signed-certificates",children:"Trust Self Signed Certificates"}),"\n",(0,a.jsxs)(t.p,{children:["After starting the platform, ",(0,a.jsx)(t.code,{children:"caddy"})," will generate self-signed certificates during the bootstrapping process. You will either need to trust these certificates on your system or use the ",(0,a.jsx)(t.code,{children:"--tls-no-verify"})," flag on every command. If using the ",(0,a.jsx)(t.code,{children:"--tls-no-verify"})," command it will disable profiles and require that you pass in the host and authentication into each command."]}),"\n",(0,a.jsx)(t.p,{children:"First, extract the certificates from the container:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"mkdir -p ./opentdf-certs\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"docker compose cp caddy:/data/caddy/certificates/local/keycloak.opentdf.local/keycloak.opentdf.local.crt ./opentdf-certs\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"docker compose cp caddy:/data/caddy/certificates/local/platform.opentdf.local/platform.opentdf.local.crt ./opentdf-certs\n"})}),"\n",(0,a.jsx)(t.h3,{id:"import-and-trust-certificates-by-operating-system",children:"Import and Trust Certificates by Operating System"}),"\n",(0,a.jsxs)(n,{children:[(0,a.jsx)("summary",{children:(0,a.jsx)("strong",{children:"macOS"})}),(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Import certificates to Keychain:"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Import both certificates to the System keychain\nsudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain ./opentdf-certs/keycloak.opentdf.local.crt\nsudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain ./opentdf-certs/platform.opentdf.local.crt\n"})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Alternative: Using Keychain Access GUI:"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Open ",(0,a.jsx)(t.strong,{children:"Keychain Access"})," (Applications \u2192 Utilities \u2192 Keychain Access)"]}),"\n",(0,a.jsxs)(t.li,{children:["Drag and drop both ",(0,a.jsx)(t.code,{children:".crt"})," files into the ",(0,a.jsx)(t.strong,{children:"System"})," keychain"]}),"\n",(0,a.jsxs)(t.li,{children:["Double-click each certificate and set ",(0,a.jsx)(t.strong,{children:"Trust"})," \u2192 ",(0,a.jsx)(t.strong,{children:"When using this certificate"})," to ",(0,a.jsx)(t.strong,{children:"Always Trust"})]}),"\n",(0,a.jsx)(t.li,{children:"Enter your admin password when prompted"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Verify certificates are trusted:"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"security verify-cert -c ./opentdf-certs/keycloak.opentdf.local.crt\nsecurity verify-cert -c ./opentdf-certs/platform.opentdf.local.crt\n"})}),"\n"]}),"\n"]}),(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"References:"})}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://support.apple.com/guide/keychain-access/add-certificates-to-a-keychain-kyca2431/mac",children:"Add certificates to a keychain"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://support.apple.com/guide/keychain-access/change-the-trust-settings-of-a-certificate-kyca11871/mac",children:"Change trust settings of a certificate"})}),"\n"]})]}),"\n",(0,a.jsxs)(n,{children:[(0,a.jsx)("summary",{children:(0,a.jsx)("strong",{children:"Windows"})}),(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Import certificates using PowerShell (Run as Administrator):"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-powershell",children:'# Import to Trusted Root Certification Authorities\nImport-Certificate -FilePath ".\\opentdf-certs\\keycloak.opentdf.local.crt" -CertStoreLocation Cert:\\LocalMachine\\Root\nImport-Certificate -FilePath ".\\opentdf-certs\\platform.opentdf.local.crt" -CertStoreLocation Cert:\\LocalMachine\\Root\n'})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Alternative: Using Certificate Manager GUI:"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Press ",(0,a.jsx)(t.code,{children:"Win + R"}),", type ",(0,a.jsx)(t.code,{children:"certmgr.msc"}),", and press Enter"]}),"\n",(0,a.jsxs)(t.li,{children:["Navigate to ",(0,a.jsx)(t.strong,{children:"Trusted Root Certification Authorities"})," \u2192 ",(0,a.jsx)(t.strong,{children:"Certificates"})]}),"\n",(0,a.jsxs)(t.li,{children:["Right-click and select ",(0,a.jsx)(t.strong,{children:"All Tasks"})," \u2192 ",(0,a.jsx)(t.strong,{children:"Import"})]}),"\n",(0,a.jsxs)(t.li,{children:["Follow the wizard to import both ",(0,a.jsx)(t.code,{children:".crt"})," files"]}),"\n",(0,a.jsxs)(t.li,{children:["Choose ",(0,a.jsx)(t.strong,{children:"Place all certificates in the following store"})," \u2192 ",(0,a.jsx)(t.strong,{children:"Trusted Root Certification Authorities"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Alternative: Using MMC (Microsoft Management Console):"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Press ",(0,a.jsx)(t.code,{children:"Win + R"}),", type ",(0,a.jsx)(t.code,{children:"mmc"}),", and press Enter"]}),"\n",(0,a.jsxs)(t.li,{children:["Go to ",(0,a.jsx)(t.strong,{children:"File"})," \u2192 ",(0,a.jsx)(t.strong,{children:"Add/Remove Snap-in"})]}),"\n",(0,a.jsxs)(t.li,{children:["Add ",(0,a.jsx)(t.strong,{children:"Certificates"})," snap-in for ",(0,a.jsx)(t.strong,{children:"Local Computer"})]}),"\n",(0,a.jsxs)(t.li,{children:["Navigate to ",(0,a.jsx)(t.strong,{children:"Certificates (Local Computer)"})," \u2192 ",(0,a.jsx)(t.strong,{children:"Trusted Root Certification Authorities"})," \u2192 ",(0,a.jsx)(t.strong,{children:"Certificates"})]}),"\n",(0,a.jsx)(t.li,{children:"Right-click and import both certificates"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,a.jsxs)(n,{children:[(0,a.jsx)("summary",{children:(0,a.jsx)("strong",{children:"Linux (Ubuntu/Debian)"})}),(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Copy certificates to system certificate directory:"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Copy certificates to the ca-certificates directory\nsudo cp ./opentdf-certs/keycloak.opentdf.local.crt /usr/local/share/ca-certificates/\nsudo cp ./opentdf-certs/platform.opentdf.local.crt /usr/local/share/ca-certificates/\n\n# Update the certificate store\nsudo update-ca-certificates\n"})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Verify certificates are installed:"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Check if certificates are in the trusted store\nawk -v cmd='openssl x509 -noout -subject' '/BEGIN/{close(cmd)};{print | cmd}' < /etc/ssl/certs/ca-certificates.crt | grep opentdf\n"})}),"\n"]}),"\n"]})]}),"\n",(0,a.jsxs)(n,{children:[(0,a.jsx)("summary",{children:(0,a.jsx)("strong",{children:"Linux (RHEL/CentOS/Fedora)"})}),(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Copy certificates to system certificate directory:"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Copy certificates to the ca-trust directory\nsudo cp ./opentdf-certs/keycloak.opentdf.local.crt /etc/pki/ca-trust/source/anchors/\nsudo cp ./opentdf-certs/platform.opentdf.local.crt /etc/pki/ca-trust/source/anchors/\n\n# Update the certificate store\nsudo update-ca-trust\n"})}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"Verify certificates are installed:"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:'# Check if certificates are trusted\ntrust list | grep "opentdf.local"\n'})}),"\n"]}),"\n"]})]}),"\n",(0,a.jsxs)(n,{children:[(0,a.jsx)("summary",{children:(0,a.jsx)("strong",{children:"Linux (Arch Linux)"})}),(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Copy certificates to system certificate directory:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Copy certificates to the ca-certificates directory\nsudo cp ./opentdf-certs/keycloak.opentdf.local.crt /etc/ca-certificates/trust-source/anchors/\nsudo cp ./opentdf-certs/platform.opentdf.local.crt /etc/ca-certificates/trust-source/anchors/\n\n# Update the certificate store\nsudo trust extract-compat\n"})}),"\n"]}),"\n"]})]}),"\n",(0,a.jsx)(t.admonition,{title:"Browser-specific Certificate Installation",type:"tip",children:(0,a.jsx)(t.p,{children:"Some browsers (like Firefox) maintain their own certificate stores. If you continue to see certificate warnings in your browser after following the OS-specific steps above, you may need to import the certificates directly into your browser's certificate store."})}),"\n",(0,a.jsx)(t.admonition,{title:"Certificate Validity",type:"warning",children:(0,a.jsx)(t.p,{children:"These self-signed certificates are only valid for local development. Never use self-signed certificates in production environments."})}),"\n",(0,a.jsx)(t.h2,{id:"create-a-profile",children:"Create a Profile"}),"\n",(0,a.jsx)(t.p,{children:"Creating a profile allows us to store the host we want to connect to and then to tie our credentials to it when we login."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl profile create platform-otdf-local https://platform.opentdf.local:8443\n"})}),"\n",(0,a.jsx)(t.h2,{id:"login-to-the-platform",children:"Login to the Platform"}),"\n",(0,a.jsxs)(t.p,{children:["During the provisioning of the platform, a few test clients were created in ",(0,a.jsx)(t.strong,{children:"Keycloak"}),". You can use the following credentials to login to the platform. This will cache those credentials locally for the ",(0,a.jsx)(t.code,{children:"otdfctl"})," CLI. You can also pass in the flags ",(0,a.jsx)(t.code,{children:"--with-client-creds"})," and ",(0,a.jsx)(t.code,{children:"--with-client-creds-file"})," on every command to authenticate with the platform."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local auth client-credentials opentdf secret\n"})}),"\n",(0,a.jsx)(t.h2,{id:"create-a-namespace",children:"Create A Namespace"}),"\n",(0,a.jsxs)(t.p,{children:["In this first step you are going to create a new ",(0,a.jsx)(t.code,{children:"namespace"}),". A namespace is a way to organize your ",(0,a.jsx)(t.code,{children:"attributes"})," within the platform."]}),"\n",(0,a.jsx)(t.p,{children:"You will see an empty list of namespaces when you first start the platform."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local policy attributes namespaces list\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Found namespaces list\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Id                       \u2502Name                       \u2502Active                       \u2502Labels                      \u2502Created At                      \u2502Updated At                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'namespaces get --id=<id> --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.h3,{id:"create-a-new-namespace",children:"Create a new namespace"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local policy attributes namespaces create --name opentdf.io\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Created namespaces: 7650f02a-be00-4faa-a1d1-37cded5e23dc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                                                                    \u2502Value                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Name                                                                        \u2502opentdf.io                                                                                           \u2502\n\u2502Id                                                                          \u25027650f02a-be00-4faa-a1d1-37cded5e23dc                                                                 \u2502\n\u2502Created At                                                                  \u2502Mon Jun 24 11:02:00 UTC 2024                                                                         \u2502\n\u2502Updated At                                                                  \u2502Mon Jun 24 11:02:00 UTC 2024                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'namespaces get --id=7650f02a-be00-4faa-a1d1-37cded5e23dc --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.h3,{id:"list-the-namespaces",children:"List the namespaces"}),"\n",(0,a.jsx)(t.p,{children:"With that namespace created we should be able to see it in the list of namespaces as well as get the details of the namespace."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local policy attributes namespaces list\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Found namespaces list\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Id                                            \u2502Name                \u2502Active          \u2502Labels          \u2502Created At                            \u2502Updated At                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25027650f02a-be00-4faa-a1d1-37cded5e23dc          \u2502opentdf.io          \u2502true            \u2502[]              \u2502Mon Jun 24 11:02:00 UTC 2024          \u2502Mon Jun 24 11:02:00 UTC 2024         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'namespaces get --id=<id> --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.p,{children:"Let's export the namespace id for later use."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"export NAMESPACE_ID=<id>\n"})}),"\n",(0,a.jsx)(t.h3,{id:"get-the-details-of-the-namespace",children:"Get the details of the namespace"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local policy attributes namespaces get --id=$NAMESPACE_ID\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Found namespaces: 7650f02a-be00-4faa-a1d1-37cded5e23dc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                                                                    \u2502Value                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Id                                                                          \u25027650f02a-be00-4faa-a1d1-37cded5e23dc                                                                 \u2502\n\u2502Name                                                                        \u2502opentdf.io                                                                                           \u2502\n\u2502Created At                                                                  \u2502Mon Jun 24 11:02:00 UTC 2024                                                                         \u2502\n\u2502Updated At                                                                  \u2502Mon Jun 24 11:02:00 UTC 2024                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'namespaces get --id=7650f02a-be00-4faa-a1d1-37cded5e23dc --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.h2,{id:"create-an-attribute",children:"Create an Attribute"}),"\n",(0,a.jsx)(t.p,{children:"Now that we have a namespace we can create a new attribute. An attribute is a way to define a classification for your data."}),"\n",(0,a.jsx)(t.p,{children:"It consists of two main parts:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["A ",(0,a.jsx)(t.code,{children:"definition"})," which describes how an entities entitlements and resource attributes are compared."]}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"ANY_OF"}),": The entity must have at least one of the values in the list. This is your typical ",(0,a.jsx)(t.code,{children:"OR"})," operation."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"ALL_OF"}),": The entity must have all of the values in the list. This is your typical ",(0,a.jsx)(t.code,{children:"AND"})," operation."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"HIERARCHY"}),": This is an ordered list of values. The entity must have an equal or greater value in the list."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["A list of ",(0,a.jsx)(t.code,{children:"values"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.admonition,{type:"warning",children:(0,a.jsxs)(t.p,{children:["Attribute name and values are case insensitive. This means ",(0,a.jsx)(t.code,{children:"ROLE"})," is equal to ",(0,a.jsx)(t.code,{children:"role"}),"."]})}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsx)(t.p,{children:"You can also create values at the same time when creating the definition. This is useful when you know the values you want to use. (e.g. --value admin --value developer --value guest)"})}),"\n",(0,a.jsx)(t.h3,{id:"create-attribute-definition",children:"Create attribute definition"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local policy attributes create --name role  -s $NAMESPACE_ID  -r ANY_OF\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Created attributes: bd02d7ab-564d-4b6c-95c4-3d4a8a259000\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                                                                        \u2502Value                                                                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Name                                                                            \u2502role                                                                                             \u2502\n\u2502Rule                                                                            \u2502ANY_OF                                                                                           \u2502\n\u2502Values                                                                          \u2502[]                                                                                               \u2502\n\u2502Namespace                                                                       \u2502opentdf.io                                                                                       \u2502\n\u2502Created At                                                                      \u2502Mon Jun 24 11:09:39 UTC 2024                                                                     \u2502\n\u2502Updated At                                                                      \u2502Mon Jun 24 11:09:39 UTC 2024                                                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'attributes get --id=bd02d7ab-564d-4b6c-95c4-3d4a8a259000 --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.p,{children:"Let's export the attribute id for later use."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"export ATTRIBUTE_ID=<id>\n"})}),"\n",(0,a.jsx)(t.h3,{id:"create-attribute-values",children:"Create attribute values"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Create admin value\notdfctl --profile platform-otdf-local policy attributes values create -a $ATTRIBUTE_ID --value admin\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Created values: 0fe7e8d0-a3ff-485f-ac24-a54d85904712\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                                                                  \u2502Value                                                                                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Id                                                                        \u25020fe7e8d0-a3ff-485f-ac24-a54d85904712                                                                   \u2502\n\u2502FQN                                                                       \u2502https://opentdf.io/attr/role/value/admin                                                               \u2502\n\u2502Value                                                                     \u2502admin                                                                                                  \u2502\n\u2502Created At                                                                \u2502Mon Jun 24 11:11:15 UTC 2024                                                                           \u2502\n\u2502Updated At                                                                \u2502Mon Jun 24 11:11:15 UTC 2024                                                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'values get --id=0fe7e8d0-a3ff-485f-ac24-a54d85904712 --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.p,{children:"Export the admin value id for later use."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"export ADMIN_VALUE_ID=<id>\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Create developer value\notdfctl --profile platform-otdf-local policy attributes values create -a $ATTRIBUTE_ID --value developer\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Created values: dbfcbe15-7392-4e35-9e1d-3d06918472be\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                                                                \u2502Value                                                                                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Id                                                                      \u2502dbfcbe15-7392-4e35-9e1d-3d06918472be                                                                     \u2502\n\u2502FQN                                                                     \u2502https://opentdf.io/attr/role/value/developer                                                             \u2502\n\u2502Value                                                                   \u2502developer                                                                                                \u2502\n\u2502Created At                                                              \u2502Mon Jun 24 11:12:45 UTC 2024                                                                             \u2502\n\u2502Updated At                                                              \u2502Mon Jun 24 11:12:45 UTC 2024                                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'values get --id=dbfcbe15-7392-4e35-9e1d-3d06918472be --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.p,{children:"Export the developer value id for later use."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"export DEVELOPER_VALUE_ID=<id>\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Create guest value\notdfctl --profile platform-otdf-local policy attributes values create -a $ATTRIBUTE_ID --value guest\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Created values: 654f0877-2c0b-4a62-a9c3-87ed42bf77ac\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                                                                  \u2502Value                                                                                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Id                                                                        \u2502654f0877-2c0b-4a62-a9c3-87ed42bf77ac                                                                   \u2502\n\u2502FQN                                                                       \u2502https://opentdf.io/attr/role/value/guest                                                               \u2502\n\u2502Value                                                                     \u2502guest                                                                                                  \u2502\n\u2502Created At                                                                \u2502Mon Jun 24 11:14:22 UTC 2024                                                                           \u2502\n\u2502Updated At                                                                \u2502Mon Jun 24 11:14:22 UTC 2024                                                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'values get --id=654f0877-2c0b-4a62-a9c3-87ed42bf77ac --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.p,{children:"Export the guest value id for later use."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"export GUEST_VALUE_ID=<id>\n"})}),"\n",(0,a.jsx)(t.h3,{id:"get-the-attribute-details",children:"Get the attribute details"}),"\n",(0,a.jsx)(t.p,{children:"Now that we have listed values for the attribute, we can get the details of the attribute. You should see the added values in the list now."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local policy attributes get --id=$ATTRIBUTE_ID\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"SUCCESS   Found attributes: bd02d7ab-564d-4b6c-95c4-3d4a8a259000\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                                                                    \u2502Value                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Id                                                                          \u2502bd02d7ab-564d-4b6c-95c4-3d4a8a259000                                                                 \u2502\n\u2502Name                                                                        \u2502role                                                                                                 \u2502\n\u2502Rule                                                                        \u2502ANY_OF                                                                                               \u2502\n\u2502Values                                                                      \u2502[admin, developer, guest]                                                                            \u2502\n\u2502Namespace                                                                   \u2502opentdf.io                                                                                           \u2502\n\u2502Created At                                                                  \u2502Mon Jun 24 11:09:39 UTC 2024                                                                         \u2502\n\u2502Updated At                                                                  \u2502Mon Jun 24 11:14:22 UTC 2024                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use 'attributes get --id=bd02d7ab-564d-4b6c-95c4-3d4a8a259000 --json' to see all properties\n"})}),"\n",(0,a.jsx)(t.h2,{id:"create-a-subject-mapping",children:"Create a Subject Mapping"}),"\n",(0,a.jsxs)(t.p,{children:["A ",(0,a.jsx)(t.code,{children:"subject mapping"})," is a way to define how a user or entity is mapped to an attribute in the ",(0,a.jsx)(t.strong,{children:"OpenTDF Platform"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["An attribute that is mapped to an entity is considered an ",(0,a.jsx)(t.code,{children:"entitlement"}),". An ",(0,a.jsx)(t.code,{children:"entitlement"})," is a way to define what tdf resources an entity can access."]}),"\n",(0,a.jsxs)(t.p,{children:["With ",(0,a.jsx)(t.code,{children:"subject mappings"})," there is a sub-resource  called ",(0,a.jsx)(t.code,{children:"subject condition sets"}),". These are a set of conditions that must be met for the ",(0,a.jsx)(t.code,{children:"subject mapping"})," to be applied."]}),"\n",(0,a.jsx)(t.h3,{id:"create-a-subject-condition-set",children:"Create a Subject Condition Set"}),"\n",(0,a.jsxs)(t.p,{children:["Download the ",(0,a.jsx)("a",{target:"_blank",href:"/quickstart/subject_condition_set.json",download:"subject_condition_set.json",children:"example"})," subject condition set. You can use this file to create a new condition set."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:" otdfctl --profile platform-otdf-local policy subject-condition-sets create -j <path to file>/subject_condition_set.json\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:'SUCCESS   Created subject-condition-sets: 74bf521f-5a79-48fe-acb8-b4b63ee7950b\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property      \u2502Value                                                                                                                                                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Id            \u250274bf521f-5a79-48fe-acb8-b4b63ee7950b                                                                                                                               \u2502\n\u2502SubjectSets   \u2502[{"condition_groups":[{"conditions":[{"subject_external_selector_value":".clientId","operator":1,"subject_external_values":["opentdf"]}],"boolean_operator":1}]}]  \u2502\n\u2502Created At    \u2502Mon Jun 24 11:33:28 UTC 2024                                                                                                                                       \u2502\n\u2502Updated At    \u2502Mon Jun 24 11:33:28 UTC 2024                                                                                                                                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use \'subject-condition-sets get --id=74bf521f-5a79-48fe-acb8-b4b63ee7950b --json\' to see all properties\n'})}),"\n",(0,a.jsx)(t.p,{children:"Let's export the subject condition set id for later use."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"export SUBJECT_CONDITION_SET_ID=<id>\n"})}),"\n",(0,a.jsx)(t.h3,{id:"create-a-subject-mapping-1",children:"Create a Subject Mapping"}),"\n",(0,a.jsx)(t.p,{children:"With the condition set created we can now create a new subject mapping that is tied to the subject condition set."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local policy subject-mappings create --action read --attribute-value-id $DEVELOPER_VALUE_ID --subject-condition-set-id $SUBJECT_CONDITION_SET_ID\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:'SUCCESS   Created subject-mappings: 751054f8-14da-44c0-9341-5dab36b8256d\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                 \u2502Value                                                                                                                                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Id                       \u2502751054f8-14da-44c0-9341-5dab36b8256d                                                                                                                    \u2502\n\u2502Subject AttrVal: Id      \u2502dbfcbe15-7392-4e35-9e1d-3d06918472be                                                                                                                    \u2502\n\u2502Actions                  \u2502[{"Value":{"Standard":1}}]                                                                                                                              \u2502\n\u2502Subject Condition Set: I\u2026\u250274bf521f-5a79-48fe-acb8-b4b63ee7950b                                                                                                                    \u2502\n\u2502Subject Condition Set    \u2502[{"condition_groups":[{"conditions":[{"subject_external_selector_value":".clientId","operator":1,"subject_external_values":["opentdf"]}],"boolean_opera\u2026\u2502\n\u2502Attribute Value Id       \u2502dbfcbe15-7392-4e35-9e1d-3d06918472be                                                                                                                    \u2502\n\u2502Created At               \u2502Mon Jun 24 11:35:13 UTC 2024                                                                                                                            \u2502\n\u2502Updated At               \u2502Mon Jun 24 11:35:13 UTC 2024                                                                                                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use \'subject-mappings get --id=751054f8-14da-44c0-9341-5dab36b8256d --json\' to see all properties\n'})}),"\n",(0,a.jsx)(t.p,{children:"Let's export the subject mapping id for later use."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"export SUBJECT_MAPPING_ID=<id>\n"})}),"\n",(0,a.jsx)(t.h2,{id:"encrypt-some-data-with-tdf",children:"Encrypt Some Data With TDF"}),"\n",(0,a.jsxs)(t.p,{children:["Now that we have a few basic resources in place we can show you how to control access to data using the ",(0,a.jsx)(t.strong,{children:"OpenTDF Platform"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"encrypt-data-without-attributes",children:"Encrypt Data Without Attributes"}),"\n",(0,a.jsxs)(t.p,{children:["Within the ",(0,a.jsx)(t.code,{children:"otdfctl"})," CLI there is basic functionality to interact with ",(0,a.jsx)(t.code,{children:"zTDF"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"example-ztdf-encryption",children:"Example zTDF encryption"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"echo 'my first encrypted tdf' | otdfctl encrypt --profile platform-otdf-local -o example.tdf --tdf-type tdf3\n"})}),"\n",(0,a.jsx)(t.h3,{id:"decrypt-data-without-attributes",children:"Decrypt Data Without Attributes"}),"\n",(0,a.jsx)(t.p,{children:"Because we didn't add any attributes to the data we encrypted, we should be able to decrypt the data without any issues."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl decrypt --profile platform-otdf-local --tdf-type tdf3 example.tdf\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Output\nmy first encrypted tdf\n"})}),"\n",(0,a.jsx)(t.h3,{id:"encrypt-data-with-attributes",children:"Encrypt Data With Attributes"}),"\n",(0,a.jsxs)(t.p,{children:["In this example we will encrypt the data with the attribute ",(0,a.jsx)(t.code,{children:"https://opentdf.io/attr/role/value/guest"}),". First cleanup any existing tdf files from before."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"rm example.tdf\n"})}),"\n",(0,a.jsx)(t.h4,{id:"example-ztdf-encryption-with-attributes",children:"Example zTDF encryption with attributes"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"echo 'my first encrypted tdf' | otdfctl encrypt --profile platform-otdf-local -o example.tdf --tdf-type tdf3 --attr https://opentdf.io/attr/role/value/guest\n"})}),"\n",(0,a.jsx)(t.h3,{id:"decrypt-data-with-attributes",children:"Decrypt Data With Attributes"}),"\n",(0,a.jsxs)(t.p,{children:["In this first example we will try to decrypt the data but it will fail because we shouldn't be assigned the entitlement of ",(0,a.jsx)(t.code,{children:"https://opentdf.io/attr/role/value/guest"})," at this point."]}),"\n",(0,a.jsx)(t.h4,{id:"example-ztdf-failed-decryption",children:"Example zTDF failed decryption"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl decrypt --profile platform-otdf-local --tdf-type tdf3 example.tdf\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Output\nERROR    Failed to decrypt file: reader.WriteTo failed: doPayloadKeyUnwrap splitKey.rewrap failed: error making request to kas: error making rewrap request: rpc error: code = PermissionDenied desc = request error\n            rpc error: code = PermissionDenied desc = forbidden\n"})}),"\n",(0,a.jsxs)(t.p,{children:["What we have to do now is assign the entitlement of ",(0,a.jsx)(t.code,{children:"https://opentdf.io/attr/role/value/guest"})," to the entity by creating a new subject mapping for the condition set we created earlier."]}),"\n",(0,a.jsx)(t.h4,{id:"create-a-new-subject-mapping",children:"Create a new subject mapping"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl --profile platform-otdf-local policy subject-mappings create --action read --attribute-value-id $GUEST_VALUE_ID --subject-condition-set-id $SUBJECT_CONDITION_SET_ID\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:'SUCCESS   Created subject-mappings: f6bf9fc7-e23b-4276-9dfc-7a61f359edfd\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Property                 \u2502Value                                                                                                                                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Id                       \u2502f6bf9fc7-e23b-4276-9dfc-7a61f359edfd                                                                                                                    \u2502\n\u2502Subject AttrVal: Id      \u2502654f0877-2c0b-4a62-a9c3-87ed42bf77ac                                                                                                                    \u2502\n\u2502Actions                  \u2502[{"Value":{"Standard":1}}]                                                                                                                              \u2502\n\u2502Subject Condition Set: I\u2026\u250274bf521f-5a79-48fe-acb8-b4b63ee7950b                                                                                                                    \u2502\n\u2502Subject Condition Set    \u2502[{"condition_groups":[{"conditions":[{"subject_external_selector_value":".clientId","operator":1,"subject_external_values":["opentdf"]}],"boolean_opera\u2026\u2502\n\u2502Attribute Value Id       \u2502654f0877-2c0b-4a62-a9c3-87ed42bf77ac                                                                                                                    \u2502\n\u2502Created At               \u2502Mon Jun 24 13:28:22 UTC 2024                                                                                                                            \u2502\n\u2502Updated At               \u2502Mon Jun 24 13:28:22 UTC 2024                                                                                                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nNOTE   Use \'subject-mappings get --id=f6bf9fc7-e23b-4276-9dfc-7a61f359edfd --json\' to see all properties\n'})}),"\n",(0,a.jsx)(t.p,{children:"Now that we have the subject mapping in place we should be able to decrypt the data."}),"\n",(0,a.jsx)(t.h4,{id:"example-ztdf-successful-decryption",children:"Example zTDF successful decryption"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"otdfctl decrypt --profile platform-otdf-local --tdf-type tdf3 example.tdf\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"# Output\nmy first encrypted tdf\n"})}),"\n",(0,a.jsx)(t.h2,{id:"takeaways-and-next-steps",children:"Takeaways and Next Steps"}),"\n",(0,a.jsxs)(t.p,{children:["In this document you have learned how to create a namespace, attribute, subject mapping, and encrypt/decrypt data with the ",(0,a.jsx)(t.strong,{children:"OpenTDF Platform"}),"."]})]})}function f(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},16419:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var s=n(96540),a=n(4799);const r={attributes:!0,characterData:!0,childList:!0,subtree:!0};function i(e,t){const[n,i]=(0,s.useState)(),c=(0,s.useCallback)((()=>{i(e.current?.closest("[role=tabpanel][hidden]"))}),[e,i]);(0,s.useEffect)((()=>{c()}),[c]),function(e,t,n=r){const i=(0,a._q)(t),c=(0,a.Be)(n);(0,s.useEffect)((()=>{const t=new MutationObserver(i);return e&&t.observe(e,c),()=>t.disconnect()}),[e,i,c])}(n,(e=>{e.forEach((e=>{"attributes"===e.type&&"hidden"===e.attributeName&&(t(),c())}))}),{attributes:!0,characterData:!1,childList:!1,subtree:!1})}function c(){const[e,t]=(0,s.useState)(!1),[n,a]=(0,s.useState)(!1),r=(0,s.useRef)(null),c=(0,s.useCallback)((()=>{const n=r.current.querySelector("code");e?n.removeAttribute("style"):(n.style.whiteSpace="pre-wrap",n.style.overflowWrap="anywhere"),t((e=>!e))}),[r,e]),o=(0,s.useCallback)((()=>{const{scrollWidth:e,clientWidth:t}=r.current,n=e>t||r.current.querySelector("code").hasAttribute("style");a(n)}),[r]);return i(r,o),(0,s.useEffect)((()=>{o()}),[e,o]),(0,s.useEffect)((()=>(window.addEventListener("resize",o,{passive:!0}),()=>{window.removeEventListener("resize",o)})),[o]),{codeBlockRef:r,isEnabled:e,isCodeScrollable:n,toggle:c}}},84631:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var s=n(7710),a=n(86957);function r(){const{prism:e}=(0,a.p)(),{colorMode:t}=(0,s.G)(),n=e.theme,r=e.darkTheme||n;return"dark"===t?r:n}},49292:(e,t,n)=>{"use strict";n.d(t,{DX:()=>b,J9:()=>g,Li:()=>j,M$:()=>k,Ph:()=>w,_u:()=>x,l8:()=>_,mU:()=>v,wt:()=>m});var s=n(96540),a=n(34164),r=n(18426),i=n.n(r),c=n(4799),o=n(74848);const l=/title=(?<quote>["'])(?<title>.*?)\1/,d=/\{(?<range>[\d,-]+)\}/,p={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},bash:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},h={...p,lua:{start:"--",end:""},wasm:{start:"\\;\\;",end:""},tex:{start:"%",end:""},vb:{start:"['\u2018\u2019]",end:""},vbnet:{start:"(?:_\\s*)?['\u2018\u2019]",end:""},rem:{start:"[Rr][Ee][Mm]\\b",end:""},f90:{start:"!",end:""},ml:{start:"\\(\\*",end:"\\*\\)"},cobol:{start:"\\*>",end:""}},u=Object.keys(p);function f(e,t){const n=e.map((e=>{const{start:n,end:s}=h[e];return`(?:${n}\\s*(${t.flatMap((e=>[e.line,e.block?.start,e.block?.end].filter(Boolean))).join("|")})\\s*${s})`})).join("|");return new RegExp(`^\\s*(?:${n})\\s*$`)}function m(e){return e?.match(l)?.groups.title??""}function g({showLineNumbers:e,metastring:t}){return"boolean"==typeof e?e?1:void 0:"number"==typeof e?e:function(e){const t=e?.split(" ").find((e=>e.startsWith("showLineNumbers")));if(t){if(t.startsWith("showLineNumbers=")){const e=t.replace("showLineNumbers=","");return parseInt(e,10)}return 1}}(t)}function x(e){return Boolean(e?.includes("showLineNumbers"))}function y(e,t){const{language:n,magicComments:s}=t;if(void 0===n)return{lineClassNames:{},code:e};const a=function(e,t){switch(e){case"js":case"javascript":case"ts":case"typescript":return f(["js","jsBlock"],t);case"jsx":case"tsx":return f(["js","jsBlock","jsx"],t);case"html":return f(["js","jsBlock","html"],t);case"python":case"py":case"bash":return f(["bash"],t);case"markdown":case"md":return f(["html","jsx","bash"],t);case"tex":case"latex":case"matlab":return f(["tex"],t);case"lua":case"haskell":return f(["lua"],t);case"sql":return f(["lua","jsBlock"],t);case"wasm":return f(["wasm"],t);case"vb":case"vba":case"visual-basic":return f(["vb","rem"],t);case"vbnet":return f(["vbnet","rem"],t);case"batch":return f(["rem"],t);case"basic":return f(["rem","f90"],t);case"fsharp":return f(["js","ml"],t);case"ocaml":case"sml":return f(["ml"],t);case"fortran":return f(["f90"],t);case"cobol":return f(["cobol"],t);default:return f(u,t)}}(n,s),r=e.split(/\r?\n/),c=Object.fromEntries(s.map((e=>[e.className,{start:0,range:""}]))),o=Object.fromEntries(s.filter((e=>e.line)).map((({className:e,line:t})=>[t,e]))),l=Object.fromEntries(s.filter((e=>e.block)).map((({className:e,block:t})=>[t.start,e]))),d=Object.fromEntries(s.filter((e=>e.block)).map((({className:e,block:t})=>[t.end,e])));for(let i=0;i<r.length;){const e=r[i].match(a);if(!e){i+=1;continue}const t=e.slice(1).find((e=>void 0!==e));o[t]?c[o[t]].range+=`${i},`:l[t]?c[l[t]].start=i:d[t]&&(c[d[t]].range+=`${c[d[t]].start}-${i-1},`),r.splice(i,1)}const p={};return Object.entries(c).forEach((([e,{range:t}])=>{i()(t).forEach((t=>{p[t]??=[],p[t].push(e)}))})),{code:r.join("\n"),lineClassNames:p}}function j(e,t){const n=e.replace(/\r?\n$/,"");return function(e,{metastring:t,magicComments:n}){if(t&&d.test(t)){const s=t.match(d).groups.range;if(0===n.length)throw new Error(`A highlight range has been given in code block's metastring (\`\`\` ${t}), but no magic comment config is available. Docusaurus applies the first magic comment entry's className for metastring ranges.`);const a=n[0].className,r=i()(s).filter((e=>e>0)).map((e=>[e-1,[a]]));return{lineClassNames:Object.fromEntries(r),code:e}}return null}(n,{...t})??y(n,{...t})}function b(e){if(!e)return;const t=e.split(" ").find((e=>e.startsWith("language-")));return t?.replace(/language-/,"")}function v(e){const t=function(e){return t=e.language??b(e.className)??e.defaultLanguage,t?.toLowerCase()??"text";var t}({language:e.language,defaultLanguage:e.defaultLanguage,className:e.className}),{lineClassNames:n,code:s}=j(e.code,{metastring:e.metastring,magicComments:e.magicComments,language:t}),r=function({className:e,language:t}){return(0,a.A)(e,t&&!e?.includes(`language-${t}`)&&`language-${t}`)}({className:e.className,language:t}),i=m(e.metastring)||e.title,c=g({showLineNumbers:e.showLineNumbers,metastring:e.metastring});return{codeInput:e.code,code:s,className:r,language:t,title:i,lineNumbersStart:c,lineClassNames:n}}function k(e){const t={color:"--prism-color",backgroundColor:"--prism-background-color"},n={};return Object.entries(e.plain).forEach((([e,s])=>{const a=t[e];a&&"string"==typeof s&&(n[a]=s)})),n}const C=(0,s.createContext)(null);function _({metadata:e,wordWrap:t,children:n}){const a=(0,s.useMemo)((()=>({metadata:e,wordWrap:t})),[e,t]);return(0,o.jsx)(C.Provider,{value:a,children:n})}function w(){const e=(0,s.useContext)(C);if(null===e)throw new c.dV("CodeBlockContextProvider");return e}},18426:(e,t)=>{function n(e){let t,n=[];for(let s of e.split(",").map((e=>e.trim())))if(/^-?\d+$/.test(s))n.push(parseInt(s,10));else if(t=s.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[e,s,a,r]=t;if(s&&r){s=parseInt(s),r=parseInt(r);const e=s<r?1:-1;"-"!==a&&".."!==a&&"\u2025"!==a||(r+=e);for(let t=s;t!==r;t+=e)n.push(t)}}return n}t.default=n,e.exports=n},28453:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,x:()=>c});var s=n(96540);const a={},r=s.createContext(a);function i(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);