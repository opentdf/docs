---
sidebar_position: 3
title: Subject Mappings
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

### What is a subject mapping?
A subject mapping is the mechanism by which attributes, and subjects/entities are associated.
[Click here](http://localhost:3000/architecture/components/policy/subject_mappings/overview) to learn more about subjet mappings.

### Create subject condition Set
<!-- TODO: The distinction between a subject condition set, and a subject mapping isn't made clear in our documentation -->
<Tabs>
<TabItem value="go" label="Go">

```go
package main

import (
	"context"
	"log"

	"github.com/opentdf/platform/protocol/go/policy"
	"github.com/opentdf/platform/protocol/go/policy/subjectmapping"
	"github.com/opentdf/platform/sdk"
)

func main() {

	platformEndpoint := "http://localhost:9002"

	// Create a new client
	client, err := sdk.New(
		platformEndpoint,
		sdk.WithClientCredentials("opentdf", "secret", nil),
	)

	if err != nil {
		log.Fatal(err)
	}

	// Create Subject Condition Set

	coditionset := &subjectmapping.CreateSubjectConditionSetRequest{
		SubjectConditionSet: &subjectmapping.SubjectConditionSetCreate{
			SubjectSets: []*policy.SubjectSet{
				{
					ConditionGroups: []*policy.ConditionGroup{
						{
							BooleanOperator: policy.ConditionBooleanTypeEnum_CONDITION_BOOLEAN_TYPE_ENUM_AND,
							Conditions: []*policy.Condition{
								{
									SubjectExternalSelectorValue: ".clientId",
									Operator:                     policy.SubjectMappingOperatorEnum_SUBJECT_MAPPING_OPERATOR_ENUM_IN,
									SubjectExternalValues:        []string{"opentdf"},
								},
							},
						},
					},
				},
			},
		},
	}

	_, err = client.SubjectMapping.CreateSubjectConditionSet(context.Background(), coditionset)
	if err != nil {
		log.Fatal(err)
	}

}
```

</TabItem>
<TabItem value="java" label="Java">

```java

```

</TabItem>
<TabItem value="js" label="Javascript">

```javascript
```

</TabItem>
</Tabs>

### Create a subject mapping
<Tabs>
<TabItem value="go" label="Go">

```go
package main

import (
	"context"
	"log"

	"github.com/opentdf/platform/protocol/go/policy"
	"github.com/opentdf/platform/protocol/go/policy/subjectmapping"
	"github.com/opentdf/platform/sdk"
)

func main() {

	platformEndpoint := "http://localhost:9002"

	// Create a new client
	client, err := sdk.New(
		platformEndpoint,
		sdk.WithClientCredentials("opentdf", "secret", nil),
	)

	if err != nil {
		log.Fatal(err)
	}

	// Create Subject Mapping
	subjectMapping := &subjectmapping.CreateSubjectMappingRequest{
		AttributeValueId: "224c9d29-2cd4-4a38-b6ad-5f025ca93a8c",
		Actions: []*policy.Action{
			{
				Value: &policy.Action_Standard{
					Standard: policy.Action_STANDARD_ACTION_DECRYPT,
				},
			},
		},
		ExistingSubjectConditionSetId: "890b26db-4ee4-447f-ae8a-2862d922eeef",
	}

	_, err = client.SubjectMapping.CreateSubjectMapping(context.Background(), subjectMapping)
	if err != nil {
		log.Fatal(err)
	}
}
```

</TabItem>
<TabItem value="java" label="Java">

```java

```

</TabItem>
<TabItem value="js" label="Javascript">

```javascript
```

</TabItem>
</Tabs>

### List subject mappings
<Tabs>
<TabItem value="go" label="Go">

```go
package main

import (
	"context"
	"log"

	"github.com/opentdf/platform/protocol/go/policy/subjectmapping"
	"github.com/opentdf/platform/sdk"
)

func main() {

	platformEndpoint := "http://localhost:9002"

	// Create a new client
	client, err := sdk.New(
		platformEndpoint,
		sdk.WithClientCredentials("opentdf", "secret", nil),
	)

	if err != nil {
		log.Fatal(err)
	}

	// List Subject Mapping

	subjectmappings, err := client.SubjectMapping.ListSubjectMappings(context.Background(), &subjectmapping.ListSubjectMappingsRequest{})
	if err != nil {
		log.Fatal(err)
	}

	for _, sm := range subjectmappings.GetSubjectMappings() {
		log.Printf("Subject Mapping: %s", sm.GetId())
	}
}

```

</TabItem>
<TabItem value="java" label="Java">

```java

```

</TabItem>
<TabItem value="js" label="Javascript">

```javascript
```

</TabItem>
</Tabs>